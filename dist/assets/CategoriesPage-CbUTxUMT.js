const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-OjaIp7EQ.js","assets/vendor-7JQXQzuE.js","assets/main-CJ6DwGSY.css"])))=>i.map(i=>d[i]);
import{_ as t,m as e,k as a,n}from"./main-OjaIp7EQ.js";import{mountPeriodIndicator as r}from"./PeriodIndicator-CGknNJvc.js";import{a as s,r as i}from"./ConfigService-DR3aZRGY.js";import"./vendor-7JQXQzuE.js";async function o(e){const a=document.createElement("div");if(a.className="categories-page",!window.showAddCategoryModal)try{const{default:e}=await t(async()=>{const{default:t}=await import("./main-OjaIp7EQ.js").then(t=>t.a9);return{default:t}},__vite__mapDeps([0,1,2]));window.showAddCategoryModal=e}catch(i){}const n=document.createElement("div");n.className="tab-header mb-6",n.innerHTML='\n    <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-600">\n      <div class="flex items-center justify-between w-full gap-4">\n        <div class="flex items-center gap-3">\n          <div class="flex items-center gap-2">\n            <div class="w-8 h-8 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center">\n              <span class="text-white text-sm">📂</span>\n            </div>\n            <div>\n              <h1 class="text-2xl font-semibold text-gray-900 leading-tight">📂 Categorias</h1>\n              <div class="flex items-center gap-1">\n                <span class="text-cyan-600 dark:text-cyan-400 text-xs">Organize seus gastos</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div id="cat-period-indicator"></div>\n      </div>\n    </div>\n  ',a.appendChild(n);const s=document.createElement("div");s.className="categories-content",s.innerHTML='\n    <div class="u-card bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-6">\n      <div class="flex justify-between items-center mb-6 gap-4">\n        <h3 class="text-lg font-bold text-gray-900 dark:text-white">📁 Gerenciar Categorias</h3>\n  <button onclick="window.showAddCategoryModal()" class="btn btn-primary btn-sm">\n          ➕ Nova Categoria\n        </button>\n      </div>\n      \n      <div class="text-center py-8">\n        <div class="text-4xl mb-4">📂</div>\n        <p class="text-gray-600 dark:text-gray-400">Página de categorias em desenvolvimento</p>\n        <p class="text-sm text-gray-500 dark:text-gray-500 mt-2">Carregando categorias...</p>\n      </div>\n    </div>\n  ';try{const t=document.querySelector(".content-spacing"),e=Array.isArray(window.appState?.categories)&&window.appState.categories.length>0;if(t&&!e){const e=document.createElement("div");e.className="empty-state mt-2",e.innerHTML='<div class="empty-icon">📁</div><div class="empty-text">Nenhuma categoria cadastrada</div><div class="mt-2"><button class="btn btn-primary w-full" onclick="window.showAddCategoryModal && window.showAddCategoryModal()">Criar categoria</button></div>',t.appendChild(e)}}catch{}try{r("#cat-period-indicator")}catch(i){}if(a.appendChild(s),e){const t=e.querySelector("#cat-period-indicator");e.innerHTML="",e.appendChild(a);const n=e.querySelector(".tab-header");if(n){const e=n.querySelector(".bg-white");if(e){const a=e.querySelector(".flex.items-center.justify-between");a&&t&&a.appendChild(t)}}}await async function(){try{try{await c()}catch(t){}}catch(i){}}();try{r("#cat-period-indicator")}catch(i){}}async function d(){try{await g(),await x();const{year:t,month:a}=e();await async function(t,e){try{const a=window.appState?.currentBudget?.id,n=window.appState?.budgets||[],r=Array.isArray(n)&&n.length>1,s=(window.appState.categories||[]).filter(t=>!a||t.budgetId===a||!r&&!t.budgetId).map(a=>{const n=function(t,e,a){const n=window.appState.transactions.filter(n=>{let r;r=n.createdAt&&"object"==typeof n.createdAt&&n.createdAt.seconds?new Date(1e3*n.createdAt.seconds):new Date(n.createdAt);const s=r.getFullYear(),i=r.getMonth()+1;return n.categoriaId===t.id&&n.tipo===t.tipo&&s===e&&i===a}),r=n.filter(t=>!t.recorrenteId),s=n.filter(t=>t.recorrenteId),i=r.reduce((t,e)=>t+parseFloat(e.valor),0),o=s.reduce((t,e)=>t+parseFloat(e.valor),0),d=i+o;return{totalGasto:d,totalGastoTransacoes:i,totalGastoRecorrentes:o,transacoesCategoria:r,recorrentesAplicadas:s}}(a,t,e),{totalGasto:r,totalGastoTransacoes:s,totalGastoRecorrentes:i,transacoesCategoria:o}=n;"igor300"===a.nome||a.nome;const d=Number(a.limite)||0,l=d-r,c=d>0?"receita"===a.tipo?r/d*100:Math.min(r/d*100,100):0;let g="bg-green-500";return"receita"===a.tipo?g=c>=100?"bg-green-500":c>=80?"bg-yellow-500":"bg-red-500":c>=90?g="bg-red-500":c>=75?g="bg-yellow-500":c>=50&&(g="bg-orange-500"),{...a,totalGasto:r,totalGastoTransacoes:s,totalGastoRecorrentes:i,limite:d,saldo:l,porcentagem:c,corBarra:g}}).sort((t,e)=>e.totalGasto-t.totalGasto);!function(t,e,a){t.forEach(t=>{const n=document.querySelector(`[data-category-id="${t.id}"]`);if(n){const r=n.querySelector(".category-value"),s=n.querySelector(".category-percentage"),i=n.querySelector(".category-progress-bar");r&&(r.textContent=`R$ ${t.totalGasto.toFixed(2)}`),s&&(s.textContent=`${t.porcentagem.toFixed(1)}%`),i&&(i.style.width=`${Math.min(t.porcentagem,100)}%`,i.className=`category-progress-bar ${t.corBarra}`);const o=n.querySelector(".text-sm.text-gray-500");if(o){const n="receita"===t.tipo;o.textContent=`${n?"Receita":"Despesa"} • ${String(a).padStart(2,"0")}/${e}`}const d=n.querySelector(".text-blue-600");if(d&&t.limite>0&&t.saldo>0){const n=l(e,a);d.textContent=`💡 Meta diária: R$ ${(t.saldo/n).toFixed(2)}/dia`}}})}(s,t,e),function(t,e,a){const n=t.filter(t=>t.limite>0&&t.totalGasto>t.limite).length,r=document.querySelector(".categories-alert-count");r&&(r.textContent=n,r.className="categories-alert-count "+(n>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"));document.querySelectorAll("[data-period-text]").forEach(t=>{t.textContent=`${String(a).padStart(2,"0")}/${e}`})}(s,t,e)}catch(a){}}(t,a)}catch(t){}}function l(t,e){const a=new Date(t,e,0).getDate();let n;const r=new Date,s=r.getMonth()+1,i=r.getFullYear();return n=t===i&&e===s?r.getDate():t<i||t===i&&e<s?a:1,Math.max(1,a-n+1)}async function c(){try{const t=Date.now();if(window.__lastCategoriesRender&&t-window.__lastCategoriesRender<300)return;window.__lastCategoriesRender=t}catch{}await g(),await x();const n=document.getElementById("app-content"),r=window.appState?.currentBudget?.id,o=window.appState?.budgets||[],p=Array.isArray(o)&&o.length>1,y=(window.appState.categories||[]).filter(t=>!r||t.budgetId===r||!p&&!t.budgetId),b=y.length,v=y.filter(t=>t.limite>0).length,f=y.filter(t=>"receita"===t.tipo).length,w=y.filter(t=>"despesa"===t.tipo).length,{year:h,month:k}=e(),$=window.appState.categories.map(t=>{const e=window.appState.transactions.filter(e=>{let a;a=e.createdAt&&"object"==typeof e.createdAt&&e.createdAt.seconds?new Date(1e3*e.createdAt.seconds):new Date(e.createdAt);const n=a.getFullYear(),r=a.getMonth()+1;return e.categoriaId===t.id&&e.tipo===t.tipo&&n===h&&r===k}).reduce((t,e)=>t+parseFloat(e.valor),0),a=window.appState.recorrentes.filter(e=>e.categoriaId===t.id&&!0===e.ativa);let n=0;a.forEach(t=>{window.appState.transactions.filter(e=>e.recorrenteId===t.id&&new Date(e.createdAt).getFullYear()===h&&new Date(e.createdAt).getMonth()+1===k).length>0&&(n+=parseFloat(t.valor))});const r=e+n,s=t.limite?parseFloat(t.limite):0;"igor300"===t.nome||t.nome;const i=(t.tipo,s-r),o=s>0?Math.min(r/s*100,100):0;let d="bg-green-500";return o>=90?d="bg-red-500":o>=75?d="bg-yellow-500":o>=50&&(d="bg-orange-500"),{...t,totalGasto:r,totalGastoTransacoes:e,totalGastoRecorrentes:n,limite:s,saldo:i,porcentagem:o,corBarra:d}}).sort((t,e)=>e.totalGasto-t.totalGasto),C=$.filter(t=>t.limite>0&&t.totalGasto>t.limite).length,S=y.filter(t=>"despesa"===t.tipo&&Number(t.limite)>0).reduce((t,e)=>t+(Number(e.limite)||0),0)||0,R=$.filter(t=>"despesa"===t.tipo).reduce((t,e)=>t+(Number(e.totalGasto)||0),0)||0,F=S-R,E=y.filter(t=>"receita"===t.tipo&&Number(t.limite)>0).reduce((t,e)=>t+(Number(e.limite)||0),0)||0,M=$.filter(t=>"receita"===t.tipo).reduce((t,e)=>t+(Number(e.totalGasto)||0),0)||0,G=M-E,A=window.appState?.selectedYear||(new Date).getFullYear(),j=window.appState?.selectedMonth||(new Date).getMonth()+1;n.innerHTML=`\n    <div class="tab-container">\n      <div class="tab-header">\n        <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-600">\n          <div class="flex items-center justify-between w-full gap-4">\n            <div class="flex items-center gap-3">\n              <div class="flex items-center gap-2">\n                <div class="w-8 h-8 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center">\n                  <span class="text-white text-sm">📂</span>\n                </div>\n                <div>\n                  <h2 class="text-gray-800 dark:text-white font-semibold text-base">Categorias</h2>\n                  <div class="flex items-center gap-1">\n                    <span class="text-cyan-600 dark:text-cyan-400 text-xs">${y.length} categorias</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div id="cat-period-indicator"></div>\n          </div>\n        </div>\n      </div>\n      <div class="tab-content">\n        <div class="content-spacing">\n          \x3c!-- Indicador de período padronizado movido para o cabeçalho --\x3e\n          \n          \x3c!-- ========== SEÇÃO 1: RESUMO ANALÍTICO ========== --\x3e\n          <div class="mb-12">\n            <div class="flex items-center gap-2 mb-4">\n              <div class="w-1 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"></div>\n              <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">📊 Visão Geral</h2>\n            </div>\n            \n            <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-4 mb-6">\n              \x3c!-- Header Compacto --\x3e\n              <div class="flex items-center justify-between mb-4 gap-4">\n                <div>\n                  <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                    <span class="text-xl">📊</span>\n                    Controle de Categorias\n                  </h3>\n                  <p class="text-sm text-gray-600 dark:text-gray-400">${b} categorias • <span data-period-text>${String(j).padStart(2,"0")}/${A}</span></p>\n                </div>\n                <div class="text-right">\n                  <div class="text-lg font-bold categories-alert-count ${C>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}">\n                    ${C}\n                  </div>\n                  <p class="text-xs text-gray-500 dark:text-gray-400">${C>0?"Alertas":"OK"}</p>\n                </div>\n              </div>\n              \n              \x3c!-- Métricas Compactas --\x3e\n              <div class="grid grid-cols-4 gap-3 mb-4">\n                <div class="bg-white dark:bg-gray-800 rounded-lg p-3 text-center shadow-sm border border-gray-200 dark:border-gray-600">\n                  <div class="text-lg mb-1">📂</div>\n                  <div class="text-lg font-bold text-gray-800 dark:text-gray-200">${b}</div>\n                  <div class="text-xs text-gray-600 dark:text-gray-400">Total</div>\n                </div>\n                \n                <div class="bg-white dark:bg-gray-800 rounded-lg p-3 text-center shadow-sm border border-gray-200 dark:border-gray-600">\n                  <div class="text-lg mb-1">🎯</div>\n                  <div class="text-lg font-bold text-blue-600 dark:text-blue-400">${v}</div>\n                  <div class="text-xs text-gray-600 dark:text-gray-400">Limite</div>\n                </div>\n                \n                <div class="bg-white dark:bg-gray-800 rounded-lg p-3 text-center shadow-sm border border-gray-200 dark:border-gray-600">\n                  <div class="text-lg mb-1">💚</div>\n                  <div class="text-lg font-bold text-green-600 dark:text-green-400">${f}</div>\n                  <div class="text-xs text-gray-600 dark:text-gray-400">Receitas</div>\n                </div>\n                \n                <div class="bg-white dark:bg-gray-800 rounded-lg p-3 text-center shadow-sm border border-gray-200 dark:border-gray-600">\n                  <div class="text-lg mb-1">💸</div>\n                  <div class="text-lg font-bold text-red-600 dark:text-red-400">${w}</div>\n                  <div class="text-xs text-gray-600 dark:text-gray-400">Despesas</div>\n                </div>\n              </div>\n\n              \x3c!-- Resumo Financeiro Compacto --\x3e\n              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                \x3c!-- Despesas --\x3e\n                <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600">\n                  <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-1">\n                    <span>💸</span>\n                    Despesas\n                  </h5>\n                  <div class="space-y-1">\n                    <div class="flex justify-between text-xs">\n                      <span class="text-gray-600 dark:text-gray-400">Limite:</span>\n                      <span class="font-medium text-gray-800 dark:text-gray-200">R$ ${S.toFixed(2)}</span>\n                    </div>\n                    <div class="flex justify-between text-xs">\n                      <span class="text-gray-600 dark:text-gray-400">Gasto:</span>\n                      <span class="font-medium text-red-600 dark:text-red-400">R$ ${R.toFixed(2)}</span>\n                    </div>\n                    <div class="flex justify-between text-xs border-t border-gray-200 dark:border-gray-600 pt-1">\n                      <span class="text-gray-600 dark:text-gray-400">${F<0?"Excesso:":"Restante:"}</span>\n                      <span class="font-bold ${F<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}">\n                        R$ ${Math.abs(F).toFixed(2)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                \n                \x3c!-- Receitas --\x3e\n                <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600">\n                  <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-1">\n                    <span>💚</span>\n                    Receitas\n                  </h5>\n                  <div class="space-y-1">\n                    <div class="flex justify-between text-xs">\n                      <span class="text-gray-600 dark:text-gray-400">Meta:</span>\n                      <span class="font-medium text-gray-800 dark:text-gray-200">R$ ${E.toFixed(2)}</span>\n                    </div>\n                    <div class="flex justify-between text-xs">\n                      <span class="text-gray-600 dark:text-gray-400">Recebido:</span>\n                      <span class="font-medium text-green-600 dark:text-green-400">R$ ${M.toFixed(2)}</span>\n                    </div>\n                    <div class="flex justify-between text-xs border-t border-gray-200 dark:border-gray-600 pt-1">\n                      <span class="text-gray-600 dark:text-gray-400">${G>=0?"Excesso:":"Déficit:"}</span>\n                      <span class="font-bold ${G>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}">\n                        R$ ${Math.abs(G).toFixed(2)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- ========== SEÇÃO 2: AÇÕES E FILTROS ========== --\x3e\n          <div class="mb-12">\n            <div class="flex items-center gap-2 mb-4">\n              <div class="w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full"></div>\n              <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">🔧 Ações & Filtros</h2>\n            </div>\n            \n            <div class="u-card bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden">\n              \x3c!-- Header --\x3e\n              <div class="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-800 p-4 border-b border-gray-200 dark:border-gray-700">\n                <div class="flex flex-wrap justify-between items-center gap-2">\n                  <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">Gerenciar Categorias</h3>\n                  <div class="flex gap-2 flex-wrap">\n                    <button onclick="window.migrarTransacoesAntigas()" class="btn btn-outline btn-sm">\n                      🔄 Migrar\n          </button>\n                    <button onclick="window.corrigirTipoCategoria()" class="btn btn-outline btn-sm">\n                      🔧 Corrigir\n          </button>\n                    <button id="add-category-btn" class="btn btn-primary btn-sm">\n                      + Nova Categoria\n          </button>\n        </div>\n      </div>\n              </div>\n              \n          \x3c!-- Filtro de pesquisa --\x3e\n              <div class="p-4">\n            <div class="relative">\n              <input \n                type="text" \n                id="category-search" \n                    placeholder="🔍 Pesquisar por nome, tipo ou limite..." \n                    class="u-input w-full pl-12"\n              />\n                  <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">\n                    <span class="text-gray-400 text-lg">🔍</span>\n              </div>\n            </div>\n            <div id="category-search-results" class="mt-2 text-sm text-gray-600 dark:text-gray-400 hidden">\n              <span id="category-search-count">0</span> categoria(s) encontrada(s)\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          \x3c!-- ========== SEÇÃO 3: GRID DE CATEGORIAS ========== --\x3e\n          <div class="mb-12" id="categories-grid">\n            <div class="flex items-center gap-2 mb-4">\n              <div class="w-1 h-6 bg-gradient-to-b from-green-500 to-teal-500 rounded-full"></div>\n              <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">📋 Todas as Categorias</h2>\n              </div>\n            \n${0===y.length?'\n              <div class="u-card bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden">\n                <div class="text-center py-12">\n                  <div class="text-6xl mb-4">📂</div>\n                  <div class="text-xl font-semibold text-gray-800 dark:text-white mb-2">Nenhuma categoria encontrada</div>\n                  <div class="text-gray-600 dark:text-gray-400 mb-4">Crie sua primeira categoria para organizar suas finanças</div>\n                  <button onclick="window.showAddCategoryModal()" class="btn btn-primary w-full">\n                    📂 Criar Primeira Categoria\n                  </button>\n                  </div>\n                  </div>\n            ':`\n              <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6">\n                ${$.map(t=>{const e="receita"===t.tipo,a=t.limite>0,n=a&&t.totalGasto>t.limite,r=e&&a&&t.totalGasto<.8*t.limite,s=!e&&n;return`\n                    <div class="u-card bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-2xl transition-all duration-300 group ${s?"ring-2 ring-red-200 dark:ring-red-800":r?"ring-2 ring-yellow-200 dark:ring-yellow-800":""}" data-category-id="${t.id}">\n                      \x3c!-- Header da Categoria --\x3e\n                      <div class="bg-gradient-to-r ${e?"from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-800":"from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800"} p-4 border-b border-gray-200 dark:border-gray-700">\n                        <div class="flex items-center justify-between">\n                          <div class="flex items-center gap-3">\n                            <div class="w-12 h-12 rounded-full flex items-center justify-center text-2xl" style="background-color: ${t.cor||"#4F46E5"}20; color: ${t.cor||"#4F46E5"}">\n                              ${e?"💰":"💸"}\n                    </div>\n                            <div>\n                              <h3 class="font-bold text-gray-900 dark:text-gray-100 truncate">${t.nome}</h3>\n                              <p class="text-sm text-gray-500 dark:text-gray-400">${e?"Receita":"Despesa"} • ${String(k).padStart(2,"0")}/${h}</p>\n                            </div>\n                          </div>\n                          ${s?'<div class="text-2xl">🚨</div>':r?'<div class="text-2xl">⚠️</div>':e&&t.porcentagem>=100?'<div class="text-2xl">🎉</div>':a&&t.porcentagem>=90?'<div class="text-2xl">⚠️</div>':""}\n                        </div>\n                  </div>\n                      \n                      \x3c!-- Conteúdo da Categoria --\x3e\n                      <div class="p-4">\n                        ${a?`\n                          <div class="mb-4">\n                            <div class="flex justify-between items-center mb-2">\n                              <span class="text-sm font-medium text-gray-700 dark:text-gray-300">\n                                ${e?"🎯 Meta de Receita":"📊 Limite de Gasto"}: R$ ${t.limite.toFixed(2)}\n                              </span>\n                              <span class="text-sm font-bold category-percentage ${e?t.porcentagem>=100?"text-green-600 dark:text-green-400":t.porcentagem>=80?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400":s?"text-red-600 dark:text-red-400":t.porcentagem>=90?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}">\n                                ${t.porcentagem.toFixed(1)}%\n                              </span>\n                            </div>\n                            \n                            \x3c!-- Barra de progresso melhorada --\x3e\n                            <div class="relative">\n                              <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden">\n                                <div class="h-3 rounded-full category-progress-bar ${t.corBarra} transition-all duration-500 ease-out relative" style="width: ${Math.min(t.porcentagem,100)}%">\n                                  ${e&&t.porcentagem>=100?'\n                                    <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-green-600 animate-pulse"></div>\n                                  ':""}\n                            </div>\n                            </div>\n                              \n                              \x3c!-- Indicador de 100% para receitas --\x3e\n                              ${e?'\n                                <div class="absolute top-0 left-0 w-full h-3 pointer-events-none">\n                                  <div class="absolute top-0 right-0 w-0.5 h-3 bg-green-500 opacity-50"></div>\n                                </div>\n                              ':""}\n                            </div>\n                            \n                            <div class="flex justify-between items-center mt-2 text-xs">\n                              <div class="flex items-center gap-1">\n                                <span class="text-gray-600 dark:text-gray-400">${e?"Recebido":"Gasto"}:</span>\n                                <span class="font-medium text-gray-700 dark:text-gray-300">R$ ${t.totalGasto.toFixed(2)}</span>\n                              </div>\n                              <div class="flex items-center gap-1">\n                                <span class="text-gray-600 dark:text-gray-400">${e?"Meta":"Limite"}:</span>\n                                <span class="font-medium text-gray-700 dark:text-gray-300">R$ ${t.limite.toFixed(2)}</span>\n                              </div>\n                            </div>\n                            \n                            ${e&&t.porcentagem>=100?`\n                              <div class="mt-2 text-center">\n                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200">\n                                  🎉 Meta superada em ${(t.porcentagem-100).toFixed(1)}%!\n                                </span>\n                              </div>\n                            `:""}\n                          </div>\n                          \n                          <div class="space-y-2 mb-4">\n                            ${t.totalGasto>0?`\n                              <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600">\n                                <div class="flex justify-between items-center mb-2">\n                                  <span class="text-sm font-medium text-gray-700 dark:text-gray-300">${"receita"===t.tipo?"💰 Receita do mês":"💸 Gasto do mês"}:</span>\n                                  <span class="font-bold text-lg category-value ${"receita"===t.tipo?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-gray-100"}">R$ ${t.totalGasto.toFixed(2)}</span>\n                              </div>\n                                \n                                <div class="space-y-1">\n                                ${t.totalGastoTransacoes>0&&t.totalGastoRecorrentes>0?`\n                                    <div class="flex justify-between text-xs">\n                                      <span class="text-gray-600 dark:text-gray-400">• Transações:</span>\n                                      <span class="font-medium text-gray-700 dark:text-gray-300">R$ ${t.totalGastoTransacoes.toFixed(2)}</span>\n                                    </div>\n                                    <div class="flex justify-between text-xs">\n                                      <span class="text-gray-600 dark:text-gray-400">• Recorrentes:</span>\n                                      <span class="font-medium text-gray-700 dark:text-gray-300">R$ ${t.totalGastoRecorrentes.toFixed(2)}</span>\n                                    </div>\n                                `:t.totalGastoTransacoes>0?`\n                                    <div class="flex justify-between text-xs">\n                                      <span class="text-gray-600 dark:text-gray-400">• Transações:</span>\n                                      <span class="font-medium text-gray-700 dark:text-gray-300">R$ ${t.totalGastoTransacoes.toFixed(2)}</span>\n                                    </div>\n                                  `:`\n                                    <div class="flex justify-between text-xs">\n                                      <span class="text-gray-600 dark:text-gray-400">• Recorrentes:</span>\n                                      <span class="font-medium text-gray-700 dark:text-gray-300">R$ ${t.totalGastoRecorrentes.toFixed(2)}</span>\n                                    </div>\n                                  `}\n                                  \n                                  ${e&&a?`\n                                    <div class="mt-2 pt-2 border-t border-gray-200 dark:border-gray-600">\n                                      <div class="flex justify-between text-xs">\n                                        <span class="text-gray-600 dark:text-gray-400">📈 Progresso da meta:</span>\n                                        <span class="font-medium ${t.porcentagem>=100?"text-green-600 dark:text-green-400":t.porcentagem>=80?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}">\n                                          ${t.porcentagem.toFixed(1)}%\n                                        </span>\n                                      </div>\n                                    </div>\n                                  `:""}\n                                </div>\n                              </div>\n                            `:`\n                              <div class="text-center text-gray-500 dark:text-gray-400 py-4">\n                                <div class="text-2xl mb-2">${e?"💰":"💸"}</div>\n                                <span class="text-sm">Nenhum ${"receita"===t.tipo?"receita":"gasto"} este mês</span>\n                                <div class="text-xs mt-1">Adicione transações para começar</div>\n                              </div>\n                            `}\n                            \n                            ${a?`\n                              <div class="space-y-2">\n                                ${e?`\n                                  \x3c!-- Informações específicas para RECEITA --\x3e\n                                  <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800">\n                                    <div class="flex justify-between items-center mb-2">\n                                      <span class="text-sm font-medium text-green-800 dark:text-green-200">Status da Meta</span>\n                                      <span class="text-sm font-bold ${t.porcentagem>=100?"text-green-600 dark:text-green-400":t.porcentagem>=80?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}">\n                                        ${t.porcentagem>=100?"🎉 Meta Atingida!":t.porcentagem>=80?"⚡ Quase lá!":"📈 Em andamento"}\n                                      </span>\n                                    </div>\n                                    \n                                    ${t.totalGasto>=t.limite?`\n                                      <div class="text-sm text-green-700 dark:text-green-300">\n                                        <div class="flex justify-between">\n                                          <span>✅ Meta superada:</span>\n                                          <span class="font-bold">+R$ ${Math.abs(t.saldo).toFixed(2)}</span>\n                                        </div>\n                                        <div class="text-xs text-green-600 dark:text-green-400 mt-1">\n                                          🚀 Excelente! Você ultrapassou sua meta de receita\n                                        </div>\n                                      </div>\n                                    `:`\n                                      <div class="text-sm text-gray-700 dark:text-gray-300">\n                                        <div class="flex justify-between">\n                                          <span>📊 Falta para meta:</span>\n                                          <span class="font-bold text-orange-600 dark:text-orange-400">R$ ${Math.abs(t.saldo).toFixed(2)}</span>\n                                        </div>\n                                        <div class="text-xs text-gray-600 dark:text-gray-400 mt-1">\n                                          ${t.porcentagem>=80?"Quase lá! Faltam apenas alguns reais":t.porcentagem>=50?"Bom progresso! Continue assim":"Ainda há tempo para atingir a meta"}\n                                        </div>\n                                      </div>\n                                    `}\n                                    \n                                    <div class="mt-2 pt-2 border-t border-green-200 dark:border-green-700">\n                                      <div class="flex justify-between text-xs">\n                                        <span class="text-green-600 dark:text-green-400">💡 Meta diária:</span>\n                                        <span class="font-medium text-green-700 dark:text-green-300">\n                                          R$ ${(t.saldo/l(h,k)).toFixed(2)}/dia\n                                        </span>\n                                      </div>\n                                      <div class="flex justify-between text-xs mt-1">\n                                        <span class="text-green-600 dark:text-green-400">📅 Dias restantes:</span>\n                                        <span class="font-medium text-green-700 dark:text-green-300">\n                                          ${l(h,k)} dias\n                                        </span>\n                                      </div>\n                                    </div>\n                                  </div>\n                                `:`\n                                  \x3c!-- Informações para DESPESA --\x3e\n                              <div class="text-xs text-gray-500 dark:text-gray-400">\n                                    ${s?`🚨 Excedeu em R$ ${Math.abs(t.saldo).toFixed(2)}`:`Restante: R$ ${t.saldo.toFixed(2)}`}\n                              </div>\n                              <div class="text-xs text-blue-600 dark:text-blue-400 font-medium">\n                                💡 Meta diária: R$ ${(t.saldo/l(h,k)).toFixed(2)}/dia\n                                  </div>\n                                `}\n                              </div>\n                            `:""}\n                          </div>\n                        `:`\n                          <div class="space-y-2 mb-4">\n                            <div class="flex justify-between items-center">\n                              <span class="text-gray-600 dark:text-gray-400">${"receita"===t.tipo?"Receita":"Gasto"} do mês:</span>\n                              <span class="font-medium category-value ${"receita"===t.tipo?"text-green-600":"text-gray-900 dark:text-gray-100"}">R$ ${t.totalGasto.toFixed(2)}</span>\n                            </div>\n                            ${t.totalGasto>0?`\n                                  <div class="text-xs text-gray-500 dark:text-gray-400 pl-2">\n                                    • ${"receita"===t.tipo?"Receitas":"Transações"}: R$ ${t.totalGastoTransacoes.toFixed(2)}\n                                    ${t.totalGastoRecorrentes>0?`<br>• Recorrentes: R$ ${t.totalGastoRecorrentes.toFixed(2)}`:""}\n                                  </div>\n                                `:""}\n                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Sem limite definido</p>\n                          </div>\n                        `}\n                        \n                        \x3c!-- Botões de ação com layout responsivo --\x3e\n                        <div class="flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-2 mt-4">\n                          <button onclick="editCategory('${t.id}')" class="inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200 min-w-0 flex-1 sm:flex-initial" title="Editar categoria">\n                            <span>✏️</span>\n                            <span class="whitespace-nowrap">Editar</span>\n                          </button>\n                          <button onclick="showCategoryHistory('${t.id}')" class="inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 border border-purple-200 dark:border-purple-800 transition-all duration-200 min-w-0 flex-1 sm:flex-initial" title="Ver histórico">\n                            <span>📊</span>\n                            <span class="whitespace-nowrap">Histórico</span>\n                          </button>\n                          <button onclick="window.deleteCategoryWithConfirmation('${t.id}', '${t.nome}')" class="inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200 min-w-0 flex-1 sm:flex-initial" title="Excluir categoria">\n                            <span>🗑️</span>\n                            <span class="whitespace-nowrap">Excluir</span>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  `}).join("")}\n              </div>\n            `}\n          </div>\n        </div>\n      </div>\n    </div>\n  `;try{const t=document.querySelector(".content-spacing");if(t&&0===b){const e=document.createElement("div");e.className="empty-state mt-2",e.innerHTML='<div class="empty-icon">📁</div><div class="empty-text">Nenhuma categoria cadastrada</div><div class="mt-2"><button class="btn btn-primary w-full" onclick="window.showAddCategoryModal && window.showAddCategoryModal()">Criar categoria</button></div>',t.appendChild(e)}}catch{}setTimeout(()=>{try{s()}catch(t){}try{const t=document.getElementById("add-category-btn");t&&(t.onclick=()=>window.showAddCategoryModal?.())}catch{}},100),function(){try{if("function"==typeof window.setupCategorySearch)return void window.setupCategorySearch();const t=t=>(t??"").toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),e=(t,e)=>{if(t===e)return 0;const a=t.length,n=e.length;if(0===a)return n;if(0===n)return a;if(Math.abs(a-n)>1)return 2;const r=Array(a+1).fill(0).map(()=>Array(n+1).fill(0));for(let s=0;s<=a;s++)r[s][0]=s;for(let s=0;s<=n;s++)r[0][s]=s;for(let s=1;s<=a;s++)for(let a=1;a<=n;a++){const n=t[s-1]===e[a-1]?0:1;r[s][a]=Math.min(r[s-1][a]+1,r[s][a-1]+1,r[s-1][a-1]+n),s>1&&a>1&&t[s-1]===e[a-2]&&t[s-2]===e[a-1]&&(r[s][a]=Math.min(r[s][a],r[s-2][a-2]+1))}return r[a][n]},a=(a,n)=>{const r=t(a),s=t(n);if(!s)return!0;if(r.includes(s))return!0;const i=r.split(/\s+/).filter(Boolean);for(const t of i)if(Math.abs(t.length-s.length)<=1&&e(t,s)<=1)return!0;return Math.abs(r.length-s.length)<=1&&e(r,s)<=1},n=document.getElementById("category-search"),r=document.getElementById("category-search-results"),s=document.getElementById("category-search-count"),i=document.getElementById("categories-grid");if(!n||!i)return;if("1"===n.dataset.bound)return;n.dataset.bound="1",n.addEventListener("input",()=>{const e=t(n.value);if(!e){r&&r.classList.add("hidden");try{i.innerHTML=m()}catch{i.innerHTML=""}return}const o=(window.appState.categories||[]).filter(t=>{const n=t.nome||"",r=t.tipo||"",s=String(t.limite??"");return a(n,e)||a(r,e)||s.includes(e)});s&&(s.textContent=String(o.length)),r&&r.classList.remove("hidden");try{i.innerHTML=u(o)}catch{i.innerHTML=""}}),n.addEventListener("keydown",t=>{"Escape"===t.key&&(n.value="",n.dispatchEvent(new Event("input")))})}catch(t){}}();try{window.__catPeriodListenerBound||(window.__catPeriodListenerBound=!0,a.on("period:changed",t=>queueMicrotask(()=>{const a=(window.location.hash||"").split("?")[0];if("#/categories"===a){try{const n=t&&t.year||e().year,r=t&&t.month||e().month,s=`${n}-${String(r).padStart(2,"0")}`,i=new URL(window.location.href);i.hash=`${a}?ym=${s}`,history.replaceState(null,"",i.toString())}catch{}try{const t=document.getElementById("app-content");if(t&&(t.innerHTML.includes("📂 Categorias")||t.innerHTML.includes("cat-period-indicator")||t.innerHTML.includes("categories-page")||null!==t.querySelector("#cat-period-indicator")))return void d()}catch(n){}c()}})))}catch{}i();try{"function"!=typeof window.deleteCategoryWithConfirmation&&(window.deleteCategoryWithConfirmation=async function(e,a="categoria"){try{const n=a||"categoria";let r=!1;if(r="function"==typeof window.confirmDelete?await window.confirmDelete(n,"categoria"):"function"==typeof window.showConfirmationModal?await new Promise(t=>{window.showConfirmationModal({title:"Excluir Categoria",message:`Tem certeza que deseja excluir "${n}"? Esta ação não pode ser desfeita.`,confirmText:"Sim, excluir",confirmColor:"bg-red-500 hover:bg-red-600",onConfirm:()=>t(!0),onCancel:()=>t(!1)})}):confirm(`Excluir "${n}"? Esta ação não pode ser desfeita.`),!r)return;const s=await t(()=>import("./main-OjaIp7EQ.js").then(t=>t.a6),__vite__mapDeps([0,1,2]));await s.deleteCategory(e);try{window.Snackbar?.show?.("Categoria excluída","success")}catch{}try{await c()}catch{}}catch(n){try{window.Snackbar?.show?.("Erro ao excluir categoria","error")}catch{}}}),"function"!=typeof window.editCategory&&(window.editCategory=function(e){try{const a=window.appState?.categories?.find(t=>t.id===e);a?window.showAddCategoryModal?window.showAddCategoryModal(a):t(()=>import("./main-OjaIp7EQ.js").then(t=>t.a9),__vite__mapDeps([0,1,2])).then(t=>{t.default&&(window.showAddCategoryModal=t.default,t.default(a))}).catch(t=>{window.Snackbar&&window.Snackbar.show("Erro ao abrir modal de edição","error")}):window.Snackbar&&window.Snackbar.show("Categoria não encontrada","error")}catch(a){window.Snackbar&&window.Snackbar.show("Erro ao editar categoria","error")}}),"function"!=typeof window.showCategoryHistory&&(window.showCategoryHistory=function(t){try{const{year:n,month:r}=e(),s=window.appState?.categories?.find(e=>e.id===t),i=`Histórico - ${s?.nome||t}`,o=t=>{if(!t)return null;if("function"==typeof t?.toDate)return t.toDate();if("object"==typeof t&&t?.seconds)return new Date(1e3*t.seconds);const e=new Date(t);return isNaN(e.getTime())?null:e},d=t=>(Number.parseFloat(t||0)||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),l=(window.appState?.transactions||[]).filter(e=>e.categoriaId===t).filter(t=>{const e=o(t.createdAt);return!!e&&(e.getFullYear()===n&&e.getMonth()+1===r)}),c=`<div class="max-h-96 overflow-auto">${l.sort((t,e)=>{const a=o(t.createdAt)||0;return(o(e.createdAt)||0)-a}).slice(0,100).map(t=>{const e=o(t.createdAt),a=e?e.toLocaleDateString("pt-BR"):"-",n="receita"===t.tipo?"+":"-";return`\n                <div class="flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700">\n                  <div class="min-w-0">\n                    <div class="font-medium text-gray-900 dark:text-gray-100 truncate">${t.descricao&&String(t.descricao).trim()||"(Sem descrição)"}</div>\n                    <div class="text-xs text-gray-500 dark:text-gray-400">${a}</div>\n                  </div>\n                  <div class="text-right font-medium ${"receita"===t.tipo?"text-green-600":"text-red-600"}">${n} R$ ${d(t.valor)}</div>\n                </div>`}).join("")||'<div class="text-sm text-gray-500">Sem transações neste período</div>'}</div>`;a.emit("modal:show",{title:i,content:c})}catch(n){}}),"function"!=typeof window.migrarTransacoesAntigas&&(window.migrarTransacoesAntigas=function(){try{window.Snackbar?.show?.("Nada para migrar","info")}catch{}}),"function"!=typeof window.corrigirTipoCategoria&&(window.corrigirTipoCategoria=function(){try{window.Snackbar?.show?.("Tipos de categorias verificados","info")}catch{}})}catch{}}async function g(){try{if("function"==typeof window.loadTransactions)return void(await window.loadTransactions())}catch(t){}}async function x(){try{await n()}catch(t){}}function p(){return o(document.getElementById("app-content"))}function m(){const{year:t,month:a}=e();return window.appState.categories.map(e=>{const n=window.appState.transactions.filter(n=>{let r;r=n.createdAt&&"object"==typeof n.createdAt&&n.createdAt.seconds?new Date(1e3*n.createdAt.seconds):new Date(n.createdAt);const s=r.getFullYear(),i=r.getMonth()+1;return n.categoriaId===e.id&&n.tipo===e.tipo&&s===t&&i===a}).reduce((t,e)=>t+parseFloat(e.valor),0),r=window.appState.recorrentes.filter(t=>t.categoriaId===e.id&&!0===t.ativa);let s=0;r.forEach(e=>{window.appState.transactions.filter(n=>n.recorrenteId===e.id&&new Date(n.createdAt).getFullYear()===t&&new Date(n.createdAt).getMonth()+1===a).length>0&&(s+=parseFloat(e.valor))});const i=n+s,o=e.limite?parseFloat(e.limite):0;"igor300"===e.nome||e.nome;const d=(e.tipo,o-i),l=o>0?Math.min(i/o*100,100):0;let c="bg-green-500";return l>=90?c="bg-red-500":l>=75?c="bg-yellow-500":l>=50&&(c="bg-orange-500"),{...e,totalGasto:i,totalGastoTransacoes:n,totalGastoRecorrentes:s,limite:o,saldo:d,porcentagem:l,corBarra:c}}).sort((t,e)=>e.totalGasto-t.totalGasto).map(t=>`\n    <div class="card-standard">\n      <div class="flex items-center space-x-3 mb-3">\n        <div class="w-4 h-4 rounded-full" style="background-color: ${t.cor||"#4F46E5"}"></div>\n        <span class="list-item-title">${t.nome}</span>\n      </div>\n      <p class="list-item-subtitle">Tipo: ${t.tipo}</p>\n      \n      ${t.limite>0?`\n            <div class="mt-3 space-y-2">\n              <div class="flex justify-between text-xs md:text-sm">\n                <span class="text-gray-600 dark:text-gray-400">Limite:</span>\n                <span class="font-medium text-gray-900 dark:text-gray-100">R$ ${t.limite.toFixed(2)}</span>\n              </div>\n              <div class="flex justify-between text-xs md:text-sm">\n                <span class="text-gray-600 dark:text-gray-400">${"receita"===t.tipo?"Receita":"Gasto"}:</span>\n                <span class="font-medium ${"receita"===t.tipo?"text-green-600":t.totalGasto>t.limite?"text-red-600":"text-gray-900 dark:text-gray-100"}">R$ ${t.totalGasto.toFixed(2)}</span>\n              </div>\n              ${t.totalGasto>0?`\n                    <div class="text-xs text-gray-500 dark:text-gray-400 pl-2">\n                      • Transações: R$ ${t.totalGastoTransacoes.toFixed(2)}\n                      ${t.totalGastoRecorrentes>0?`<br>• Recorrentes: R$ ${t.totalGastoRecorrentes.toFixed(2)}`:""}\n                    </div>\n                  `:""}\n              <div class="flex justify-between text-xs md:text-sm">\n                <span class="text-gray-600 dark:text-gray-400">${"receita"===t.tipo?"Falta para meta":"Saldo"}:</span>\n                <span class="font-medium ${"receita"===t.tipo?t.saldo<=0?"text-green-600":t.saldo<.25*t.limite?"text-yellow-600":"text-red-600":t.saldo<0?"text-red-600":t.saldo<.25*t.limite?"text-yellow-600":"text-green-600"}">R$ ${t.saldo.toFixed(2)}</span>\n              </div>\n              \n              \x3c!-- Barra de Progresso --\x3e\n              <div class="mt-2">\n                <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1">\n                  <span>${t.porcentagem.toFixed(1)}% ${"receita"===t.tipo?"atingido":"usado"}</span>\n                  <span>${t.porcentagem>=100?"receita"===t.tipo?"Meta atingida!":"Limite excedido!":""}</span>\n                </div>\n                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">\n                  <div class="${t.corBarra} h-2 rounded-full transition-all duration-300" style="width: ${Math.min(t.porcentagem,100)}%"></div>\n                </div>\n              </div>\n            </div>\n          `:`\n            <div class="mt-3">\n              <div class="flex justify-between text-xs md:text-sm">\n                <span class="text-gray-600 dark:text-gray-400">${"receita"===t.tipo?"Receita":"Gasto"} do mês:</span>\n                <span class="font-medium ${"receita"===t.tipo?"text-green-600":"text-gray-900 dark:text-gray-100"}">R$ ${t.totalGasto.toFixed(2)}</span>\n              </div>\n              ${t.totalGasto>0?`\n                    <div class="text-xs text-gray-500 dark:text-gray-400 pl-2">\n                      • ${"receita"===t.tipo?"Receitas":"Transações"}: R$ ${t.totalGastoTransacoes.toFixed(2)}\n                      ${t.totalGastoRecorrentes>0?`<br>• Recorrentes: R$ ${t.totalGastoRecorrentes.toFixed(2)}`:""}\n                    </div>\n                  `:""}\n              <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Sem limite definido</p>\n            </div>\n          `}\n      \n      <div class="flex items-center justify-end gap-2 mt-4">\n        <button onclick="editCategory('${t.id}')" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200" title="Editar categoria">\n          <span>✏️</span>\n          <span>Editar</span>\n        </button>\n        <button onclick="showCategoryHistory('${t.id}')" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 border border-purple-200 dark:border-purple-800 transition-all duration-200" title="Ver histórico">\n          <span>📊</span>\n          <span>Histórico</span>\n        </button>\n        <button onclick="window.deleteCategoryWithConfirmation('${t.id}', '${t.nome}')" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200" title="Excluir categoria">\n          <span>🗑️</span>\n          <span>Excluir</span>\n        </button>\n      </div>\n    </div>\n  `).join("")}function u(t){return t.length?t.map(t=>`\n    <div class="card-standard">\n      <div class="flex items-center space-x-3 mb-3">\n        <div class="w-4 h-4 rounded-full" style="background-color: ${t.cor||"#4F46E5"}"></div>\n        <span class="list-item-title">${t.nome}</span>\n      </div>\n      <p class="list-item-subtitle">Tipo: ${t.tipo}</p>\n      ${t.limite?`<p class="text-xs text-gray-500 dark:text-gray-400">Limite: R$ ${t.limite.toFixed(2)}</p>`:'<p class="text-xs text-gray-500 dark:text-gray-400">Sem limite definido</p>'}\n      \n      <div class="flex items-center justify-end gap-2 mt-4">\n        <button onclick="editCategory('${t.id}')" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200" title="Editar categoria">\n          <span>✏️</span>\n          <span>Editar</span>\n        </button>\n        <button onclick="showCategoryHistory('${t.id}')" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 border border-purple-200 dark:border-purple-800 transition-all duration-200" title="Ver histórico">\n          <span>📊</span>\n          <span>Histórico</span>\n        </button>\n        <button onclick="window.deleteCategoryWithConfirmation('${t.id}', '${t.nome}')" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200" title="Excluir categoria">\n          <span>🗑️</span>\n          <span>Excluir</span>\n        </button>\n      </div>\n    </div>\n  `).join(""):'\n      <div class="col-span-full text-center py-8">\n        <div class="text-4xl mb-4">🔍</div>\n        <div class="text-lg font-semibold text-gray-800 dark:text-white mb-2">Nenhuma categoria encontrada</div>\n        <div class="text-gray-600 dark:text-gray-400">Tente usar termos diferentes na pesquisa</div>\n      </div>\n    '}"undefined"!=typeof window&&window.eventBus&&"function"==typeof window.eventBus.on&&window.eventBus.on("categories:updated",()=>{if("#/categories"===(window.location.hash||"").split("?")[0])try{c()}catch(t){}});export{p as default,o as render,m as renderAllCategories,c as renderCategories,u as renderFilteredCategories};

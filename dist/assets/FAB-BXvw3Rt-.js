const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/VoiceService-F1rMbtYP.js","assets/VoiceSystem-CEBe8orV.js"])))=>i.map(i=>d[i]);
import{_ as v}from"./main-B3h3klJd.js";function R(){console.log("üîß Criando FAB corrigido...");const o=document.getElementById("fab-container-main");if(o){try{typeof o.cleanup=="function"&&o.cleanup()}catch(n){console.warn("‚ö†Ô∏è Erro ao limpar FAB existente:",n)}try{o.remove(),console.log("‚ôªÔ∏è FAB existente removido antes de criar novo.")}catch(n){console.warn("‚ö†Ô∏è Erro ao remover FAB existente:",n)}}let t=!1,e=!1;const s=A(),c=B(),r=M(),w=u({id:"fab-transaction",text:"Nova Transa√ß√£o",icon:"üí∞",color:"var(--primary-color)",action:V}),x=u({id:"fab-recorrente",text:"Nova Recorrente",icon:"üîÑ",color:"var(--secondary-color)",action:z}),E=u({id:"fab-voice",text:"Voz",icon:"üé§",color:"var(--success-color)",action:_});return r.appendChild(w),r.appendChild(x),r.appendChild(E),s.appendChild(r),s.appendChild(c),F(),console.log("‚úÖ FAB corrigido criado com sucesso"),s;function A(){const n=document.createElement("div");return n.id="fab-container-main",n.className="fab-container-refactored",n.style.cssText=`
      position: fixed !important;
      bottom: 120px !important;
      right: 20px !important;
      z-index: 9999 !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-end !important;
      gap: 12px !important;
      pointer-events: auto !important;
      overflow: visible !important;
      visibility: visible !important;
      opacity: 1 !important;
      transform: none !important;
      max-width: 200px !important;
      max-height: none !important;
    `,n}function B(){const n=document.createElement("button");n.id="fab-main",n.innerHTML="+",n.type="button",n.setAttribute("aria-label","Abrir menu de a√ß√µes"),n.style.cssText=`
      width: 64px !important;
      height: 64px !important;
      border-radius: 50% !important;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)) !important;
      color: white !important;
      border: none !important;
      font-size: 32px !important;
      font-weight: bold !important;
      cursor: pointer !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
      z-index: 10000 !important;
      min-width: 64px !important;
      min-height: 64px !important;
      touch-action: manipulation !important;
      -webkit-tap-highlight-color: transparent !important;
      user-select: none !important;
      outline: none !important;
      position: relative !important;
      transform: rotate(0deg) !important;
    `;const l=()=>{!t&&!e&&(n.style.transform="scale(1.1) rotate(0deg)",n.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)")},p=()=>{!t&&!e&&(n.style.transform="scale(1) rotate(0deg)",n.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")};return n.addEventListener("mouseenter",l),n.addEventListener("mouseleave",p),n.addEventListener("touchstart",l),n.addEventListener("touchend",p),n}function M(){const n=document.createElement("div");return n.id="fab-actions",n.style.cssText=`
      display: none !important;
      flex-direction: column !important;
      gap: 12px !important;
      z-index: 9999 !important;
      margin-bottom: 12px !important;
      overflow: visible !important;
      opacity: 0 !important;
      transform: translateY(20px) !important;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
      visibility: hidden !important;
      position: relative !important;
      pointer-events: none !important;
      max-height: none !important;
      max-width: 200px !important;
    `,n}function u({id:n,text:l,icon:p,color:i,action:f}){const a=document.createElement("button");a.id=n,a.innerHTML=`${p} ${l}`,a.type="button",a.setAttribute("aria-label",l),a.style.cssText=`
      background: linear-gradient(135deg, ${i}, ${L(i,-20)}) !important;
      color: var(--text-white) !important;
      padding: 12px 16px !important;
      border-radius: var(--border-radius-lg) !important;
      border: none !important;
      font-size: var(--font-size-sm) !important;
      font-weight: 600 !important;
      cursor: pointer !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      gap: 8px !important;
      min-height: 48px !important;
      min-width: 140px !important;
      max-width: 160px !important;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
      transition: all var(--transition-normal) !important;
      z-index: 10000 !important;
      white-space: nowrap !important;
      flex-shrink: 0 !important;
      touch-action: manipulation !important;
      -webkit-tap-highlight-color: transparent !important;
      user-select: none !important;
      outline: none !important;
      position: relative !important;
      transform: scale(1) !important;
    `;const y=()=>{e||(a.style.transform="scale(1.05)",a.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)")},b=()=>{e||(a.style.transform="scale(1)",a.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")};a.addEventListener("mouseenter",y),a.addEventListener("mouseleave",b),a.addEventListener("touchstart",y),a.addEventListener("touchend",b);const S=g=>{g.preventDefault(),g.stopPropagation(),console.log(`üîß Bot√£o ${n} clicado!`);let h=!1;try{f&&(f(),h=!0)}catch(T){console.error(`‚ùå Erro ao executar a√ß√£o do bot√£o ${n}:`,T),d(`Erro ao executar ${l}`)}h&&m()};return a.addEventListener("click",S),a}function F(){const n=i=>{i.preventDefault(),i.stopPropagation(),k()};c.addEventListener("click",n);const l=i=>{!s.contains(i.target)&&t&&m()};document.addEventListener("click",l);const p=i=>{i.key==="Escape"&&t&&m()};document.addEventListener("keydown",p),s.addEventListener("click",i=>{i.stopPropagation()})}function k(){if(e){console.log("‚ö†Ô∏è FAB est√° animando, ignorando clique");return}e=!0,console.log("üîß Alternando FAB:",t?"Fechando":"Abrindo"),t?m():C()}function C(){console.log("üîß Abrindo FAB..."),r.style.display="flex",r.style.visibility="visible",r.style.pointerEvents="auto",r.style.opacity="0",r.style.transform="translateY(20px)",requestAnimationFrame(()=>{r.style.transition="all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",r.style.opacity="1",r.style.transform="translateY(0)"}),c.style.transform="rotate(45deg)",t=!0,setTimeout(()=>{e=!1},300)}function m(){console.log("üîß Fechando FAB..."),r.style.transition="all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",r.style.opacity="0",r.style.transform="translateY(20px)",r.style.pointerEvents="none",c.style.transform="rotate(0deg)",t=!1,setTimeout(()=>{r.style.display="none",r.style.visibility="hidden",e=!1},300)}}function L(o,t){if(o.startsWith("var(--primary-color)"))return"var(--secondary-color)";if(o.startsWith("var(--secondary-color)"))return"var(--primary-color)";if(o.startsWith("var(--success-color)"))return"var(--success-color)";if(o.startsWith("var("))return o;const e=o.replace("#",""),s=Math.max(0,Math.min(255,parseInt(e.substr(0,2),16)+t)),c=Math.max(0,Math.min(255,parseInt(e.substr(2,2),16)+t)),r=Math.max(0,Math.min(255,parseInt(e.substr(4,2),16)+t));return`#${s.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}function V(){if(console.log("üîß Executando a√ß√£o: Nova Transa√ß√£o"),typeof window.showAddTransactionModal=="function"){console.log("‚úÖ Fun√ß√£o showAddTransactionModal encontrada");try{return window.showAddTransactionModal(),!0}catch(o){return console.error("‚ùå Erro ao executar showAddTransactionModal:",o),d("Erro ao abrir modal de transa√ß√£o"),!1}}else return console.warn("‚ö†Ô∏è Fun√ß√£o showAddTransactionModal n√£o dispon√≠vel"),d("Modal de transa√ß√£o n√£o dispon√≠vel. Tente recarregar a p√°gina."),!1}function z(){if(console.log("üîß Executando a√ß√£o: Nova Recorrente"),typeof window.showAddRecorrenteModal=="function"){console.log("‚úÖ Fun√ß√£o showAddRecorrenteModal encontrada");try{return window.showAddRecorrenteModal(),!0}catch(o){return console.error("‚ùå Erro ao executar showAddRecorrenteModal:",o),d("Erro ao abrir modal de recorrente"),!1}}else return console.warn("‚ö†Ô∏è Fun√ß√£o showAddRecorrenteModal n√£o dispon√≠vel"),d("Modal de recorrente n√£o dispon√≠vel. Tente recarregar a p√°gina."),!1}function _(){return console.log("üîß Executando a√ß√£o: Voz"),(async()=>{if(typeof window.openVoiceModal=="function")return console.log("‚úÖ Fun√ß√£o openVoiceModal encontrada"),await window.openVoiceModal(),!0;try{console.log("‚ÑπÔ∏è Carregando servi√ßo de voz sob demanda...");const t=await v(()=>import("./VoiceService-F1rMbtYP.js"),__vite__mapDeps([0,1]));if(typeof t.openVoiceModal=="function")return window.openVoiceModal=t.openVoiceModal,await t.openVoiceModal(),!0}catch(t){console.warn("‚ö†Ô∏è Falha ao carregar VoiceService:",t)}try{const t=await v(()=>import("./VoiceSystem-CEBe8orV.js"),[]);if(typeof window.openVoiceModal=="function")return await window.openVoiceModal(),!0;if(t&&typeof t.VoiceSystem=="function")return await new t.VoiceSystem().start("transaction"),!0}catch{}return!1})().then(t=>(t||(console.warn("‚ö†Ô∏è Fun√ß√£o openVoiceModal n√£o dispon√≠vel"),d("Funcionalidade de voz n√£o dispon√≠vel. Tente recarregar a p√°gina.")),t)).catch(t=>(console.error("‚ùå Erro ao abrir modal de voz:",t),d("Erro ao abrir modal de voz"),!1))}function d(o){if(console.error("‚ùå Erro no FAB:",o),window.Snackbar&&typeof window.Snackbar.show=="function")try{window.Snackbar.show(o,"error");return}catch(t){console.warn("‚ö†Ô∏è Erro ao usar Snackbar:",t)}window.alert?alert(o):console.error("Nenhum sistema de notifica√ß√£o dispon√≠vel")}window.toggleFAB=function(){const o=document.getElementById("fab-container-main");if(o){const t=o.querySelector("#fab-main");t&&t.click()}};window.closeFAB=function(){const o=document.getElementById("fab-container-main");if(o){const t=o.querySelector("#fab-actions"),e=o.querySelector("#fab-main");t&&e&&(t.style.display="none",t.style.opacity="0",t.style.visibility="hidden",t.style.pointerEvents="none",e.style.transform="rotate(0deg)")}};window.openFAB=function(){const o=document.getElementById("fab-container-main");if(o){const t=o.querySelector("#fab-actions"),e=o.querySelector("#fab-main");t&&e&&(t.style.display="flex",t.style.visibility="visible",t.style.opacity="1",t.style.transform="translateY(0)",t.style.pointerEvents="auto",e.style.transform="rotate(45deg)")}};window.cleanupFAB=function(){};window.checkFABState=function(){const o=document.getElementById("fab-container-main"),t=document.getElementById("fab-actions"),e=document.getElementById("fab-main");if(console.log("üîç Estado do FAB:"),console.log("  - Container:",!!o),console.log("  - Actions:",!!t),console.log("  - Main button:",!!e),o&&t&&e){const s=t.style.display,c=e.style.transform;console.log("  - Actions display:",s),console.log("  - Main transform:",c)}return{fabContainer:o,fabActions:t,fabMain:e}};export{R as FAB};

import{r as t,k as n}from"./main-BTanfOAJ.js";import"./vendor-7JQXQzuE.js";class o{constructor(){this.isOpen=!1,this.currentNotification=null,this.autoCloseTimer=null,this.notificationQueue=[],this.isProcessing=!1,this.init()}init(){this.createModalHTML()}createModalHTML(){const t=document.getElementById("notification-modal");t&&t.remove();document.body.insertAdjacentHTML("beforeend",'\n      <div id="notification-modal" class="notification-modal-overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 10000; opacity: 0; visibility: hidden;">\n        <div class="notification-modal-container">\n          <div class="notification-modal-header">\n            <div class="notification-modal-icon">\n              <span id="notification-modal-icon">🔔</span>\n            </div>\n            <div class="notification-modal-title">\n              <h3 id="notification-modal-title">Nova Notificação</h3>\n              <p id="notification-modal-time" class="notification-modal-time"></p>\n            </div>\n            <button id="notification-modal-close" class="notification-modal-close" aria-label="Fechar">\n              <span>×</span>\n            </button>\n          </div>\n          \n          <div class="notification-modal-body">\n            <div id="notification-modal-content" class="notification-modal-content">\n              \x3c!-- Conteúdo da notificação será inserido aqui --\x3e\n            </div>\n          </div>\n          \n          <div class="notification-modal-footer">\n            <button id="notification-modal-mark-read" class="notification-modal-btn notification-modal-btn-secondary">\n              ✅ Marcar como lida\n            </button>\n            <button id="notification-modal-view-all" class="notification-modal-btn notification-modal-btn-primary">\n              📬 Ver todas as notificações\n            </button>\n          </div>\n        </div>\n      </div>\n    ');document.getElementById("notification-modal")&&this.bindEvents()}bindEvents(){const t=document.getElementById("notification-modal"),n=document.getElementById("notification-modal-close"),o=document.getElementById("notification-modal-mark-read"),e=document.getElementById("notification-modal-view-all"),a=t;n&&n.addEventListener("click",()=>{this.close()}),a&&a.addEventListener("click",t=>{t.target===a&&this.close()}),o&&o.addEventListener("click",async()=>{this.currentNotification&&(await this.markAsRead(this.currentNotification.id),this.close())}),e&&e.addEventListener("click",()=>{this.close(),window.location.hash="#/notifications"}),document.addEventListener("keydown",t=>{"Escape"===t.key&&this.isOpen&&this.close()})}show(t){t&&(this.notificationQueue.push(t),this.isProcessing||this.processQueue())}async processQueue(){if(!this.isProcessing&&0!==this.notificationQueue.length){for(this.isProcessing=!0;this.notificationQueue.length>0;){const t=this.notificationQueue.shift();await this.showNotification(t),this.notificationQueue.length>0&&await new Promise(t=>setTimeout(t,3e3))}this.isProcessing=!1}}async showNotification(t){this.isOpen&&(this.close(),await new Promise(t=>setTimeout(t,500))),this.currentNotification=t,this.isOpen=!0,this.updateModalContent(t);let n=document.getElementById("notification-modal");if((n||(this.createModalHTML(),n=document.getElementById("notification-modal"),n))&&n){{n.classList.remove("notification-modal-overlay"),n.removeAttribute("style"),n.style.cssText="\n        position: fixed !important;\n        top: 0 !important;\n        left: 0 !important;\n        right: 0 !important;\n        bottom: 0 !important;\n        background: rgba(0, 0, 0, 0.6) !important;\n        backdrop-filter: blur(4px) !important;\n        z-index: 10000 !important;\n        display: flex !important;\n        align-items: center !important;\n        justify-content: center !important;\n        padding: 20px !important;\n        opacity: 1 !important;\n        visibility: visible !important;\n        pointer-events: auto !important;\n      ",n.setAttribute("style",n.style.cssText),n.classList.add("notification-modal-show");const t=n.querySelector(".notification-modal-container");if(t){const n=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches,o=n?"#1f2937":"white",e=n?"#f9fafb":"#111827",a=n?"#374151":"#e5e7eb";t.style.cssText=`\n          background: ${o} !important;\n          color: ${e} !important;\n          border: 1px solid ${a} !important;\n          border-radius: 16px !important;\n          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3) !important;\n          max-width: 500px !important;\n          width: 100% !important;\n          max-height: 80vh !important;\n          overflow: hidden !important;\n          transform: scale(1) translateY(0) !important;\n          opacity: 1 !important;\n        `;const i=t.querySelector("#notification-modal-title"),r=t.querySelector("#notification-modal-time"),s=t.querySelector("#notification-modal-message"),c=t.querySelector("#notification-modal-details");i&&(i.style.color=e),r&&(r.style.color=n?"#9ca3af":"#6b7280"),s&&(s.style.color=e),c&&(c.style.color=n?"#d1d5db":"#374151")}setTimeout(()=>{n.classList.add("notification-modal-show")},10)}this.autoCloseTimer=setTimeout(()=>{this.close()},8e3),setTimeout(()=>{const t=document.getElementById("notification-modal");if(t){window.getComputedStyle(t)}},100)}}updateModalContent(t){const n=document.getElementById("notification-modal-icon"),o=document.getElementById("notification-modal-title"),e=document.getElementById("notification-modal-time"),a=document.getElementById("notification-modal-content");if(!(n&&o&&e&&a))return;const i=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches,r=i?"#f9fafb":"#111827",s=i?"#9ca3af":"#6b7280",c=i?"#d1d5db":"#374151",d=(t.createdAt?.toDate?t.createdAt.toDate():new Date(t.createdAt)).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});n.textContent={new_transaction:"💰",updated_transaction:"✏️",deleted_transaction:"🗑️",category_added:"📁",category_updated:"📝",category_deleted:"❌",new_recorrente:"🔄",updated_recorrente:"✏️",deleted_recorrente:"🗑️",recorrente_reminder:"⏰",test_notification:"🧪"}[t.type]||"🔔",o.textContent={new_transaction:"Nova Transação",updated_transaction:"Transação Atualizada",deleted_transaction:"Transação Excluída",category_added:"Nova Categoria",category_updated:"Categoria Atualizada",category_deleted:"Categoria Excluída",new_recorrente:"Nova Despesa Recorrente",updated_recorrente:"Despesa Recorrente Atualizada",deleted_recorrente:"Despesa Recorrente Excluída",recorrente_reminder:"Lembrete de Despesa Recorrente",test_notification:"Notificação de Teste"}[t.type]||"Nova Notificação",o.style.color=r,e.textContent=d,e.style.color=s;const l=this.generateContextualContent(t,r,c);a.innerHTML=l}generateContextualContent(t,n,o){const e=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches,a=t=>"number"==typeof t?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t):t,i=t=>{if(!t)return"";return(t.toDate?t.toDate():new Date(t)).toLocaleDateString("pt-BR")};switch(t.type){case"new_transaction":return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Nova transação adicionada:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #10b981;">\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Valor:</strong> ${a(t.transactionValor)}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>📝 Descrição:</strong> ${t.transactionDescricao||"Sem descrição"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Categoria:</strong> ${t.transactionCategoria||"Sem categoria"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💳 Tipo:</strong> ${t.transactionTipo||"Não especificado"}\n            </div>\n            <div>\n              <strong>📅 Data:</strong> ${i(t.transactionData)}\n            </div>\n          </div>\n        `;case"updated_transaction":const r=Array.isArray(t.changes)?t.changes:[],s=t.prev;let c="";return r.includes("valor")&&s?.valor&&t.transactionValor&&(c+=`\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Valor alterado:</strong> \n              <span style="color: #ef4444;">${a(s.valor)}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${a(t.transactionValor)}</span>\n            </div>\n          `),r.includes("descricao")&&s?.descricao&&(c+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📝 Descrição alterada:</strong> \n              <span style="color: #ef4444;">"${s.descricao}"</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">"${t.transactionDescricao}"</span>\n            </div>\n          `),r.includes("categoria")&&s?.categoria&&(c+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Categoria alterada:</strong> \n              <span style="color: #ef4444;">${s.categoria}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${t.transactionCategoria}</span>\n            </div>\n          `),r.includes("data")&&s?.data&&(c+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📅 Data alterada:</strong> \n              <span style="color: #ef4444;">${i(s.data)}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${i(t.transactionData)}</span>\n            </div>\n          `),r.includes("tipo")&&s?.tipo&&(c+=`\n            <div style="margin-bottom: 8px;">\n              <strong>💳 Tipo alterado:</strong> \n              <span style="color: #ef4444;">${s.tipo}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${t.transactionTipo}</span>\n            </div>\n          `),`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Transação atualizada:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #3b82f6;">\n            ${c||`\n              <div style="margin-bottom: 8px;">\n                <strong>📝 Descrição:</strong> ${t.transactionDescricao||"Sem descrição"}\n              </div>\n              <div>\n                <strong>💰 Valor:</strong> ${a(t.transactionValor)}\n              </div>\n            `}\n          </div>\n        `;case"deleted_transaction":return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Transação excluída:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">\n            <div style="margin-bottom: 8px;">\n              <strong>📝 Descrição:</strong> ${t.transactionDescricao||"Transação excluída"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Valor:</strong> ${a(t.transactionValor)}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Categoria:</strong> ${t.transactionCategoria||"Sem categoria"}\n            </div>\n            <div>\n              <strong>💳 Tipo:</strong> ${t.transactionTipo||"Não especificado"}\n            </div>\n          </div>\n        `;case"recorrente_reminder":return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Lembrete de despesa recorrente:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #f59e0b;">\n            <div style="margin-bottom: 8px;">\n              <strong>📝 Nome:</strong> ${t.recorrenteNome||"Recorrente"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Valor:</strong> ${a(t.recorrenteValor)}\n            </div>\n            <div>\n              <strong>📄 Descrição:</strong> ${t.recorrenteDescricao||"Sem descrição"}\n            </div>\n          </div>\n        `;case"category_added":return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Nova categoria criada:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #10b981;">\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Nome:</strong> ${t.categoryNome||t.categoryName||"Nova categoria"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>🎨 Cor:</strong> <span style="background: ${t.categoryColor||"#6b7280"}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.8em;">${t.categoryColor||"#6b7280"}</span>\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💳 Tipo:</strong> ${"receita"===t.categoryTipo?"Receita":"Despesa"}\n            </div>\n            <div>\n              <strong>💰 Limite:</strong> ${null!==t.categoryLimite&&void 0!==t.categoryLimite?a(t.categoryLimite):"Sem limite"}\n            </div>\n          </div>\n        `;case"category_updated":const d=t.changes||{},l=t.prev;let m="";if(d.nome&&void 0!==l?.nome&&(m+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Nome alterado:</strong> \n              <span style="color: #ef4444;">"${l.nome||"Sem nome"}"</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">"${t.categoryNome||"Sem nome"}"</span>\n            </div>\n          `),d.tipo&&void 0!==l?.tipo&&(m+=`\n            <div style="margin-bottom: 8px;">\n              <strong>💳 Tipo alterado:</strong> \n              <span style="color: #ef4444;">${"receita"===l.tipo?"Receita":"Despesa"}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${"receita"===t.categoryTipo?"Receita":"Despesa"}</span>\n            </div>\n          `),d.limite&&void 0!==l?.limite){m+=`\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Limite alterado:</strong> \n              <span style="color: #ef4444;">${null!==l.limite&&void 0!==l.limite?a(l.limite):"Sem limite"}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${null!==t.categoryLimite&&void 0!==t.categoryLimite?a(t.categoryLimite):"Sem limite"}</span>\n            </div>\n          `}return d.cor&&l?.cor&&(m+=`\n            <div style="margin-bottom: 8px;">\n              <strong>🎨 Cor alterada:</strong> \n              <span style="background: ${l.cor}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.8em; margin-right: 8px;">${l.cor}</span>\n              <span style="margin: 0 8px;">→</span> \n              <span style="background: ${t.categoryColor}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.8em;">${t.categoryColor}</span>\n            </div>\n          `),`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Categoria atualizada:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #3b82f6;">\n            ${m||`\n              <div style="margin-bottom: 8px;">\n                <strong>📁 Nome:</strong> ${t.categoryNome||t.categoryName||"Categoria"}\n              </div>\n              <div style="margin-bottom: 8px;">\n                <strong>💳 Tipo:</strong> ${"receita"===t.categoryTipo?"Receita":"Despesa"}\n              </div>\n              <div style="margin-bottom: 8px;">\n                <strong>💰 Limite:</strong> ${null!==t.categoryLimite&&void 0!==t.categoryLimite?a(t.categoryLimite):"Sem limite"}\n              </div>\n              <div>\n                <strong>🎨 Cor:</strong> <span style="background: ${t.categoryColor||"#6b7280"}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.8em;">${t.categoryColor||"#6b7280"}</span>\n              </div>\n            `}\n          </div>\n        `;case"category_deleted":return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Categoria excluída:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Nome:</strong> ${t.categoryNome||t.categoryName||"Categoria excluída"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💳 Tipo:</strong> ${"receita"===t.categoryTipo?"Receita":"Despesa"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Limite:</strong> ${null!==t.categoryLimite&&void 0!==t.categoryLimite?a(t.categoryLimite):"Sem limite"}\n            </div>\n            <div>\n              <strong>🎨 Cor:</strong> <span style="background: ${t.categoryColor||"#6b7280"}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.8em;">${t.categoryColor||"#6b7280"}</span>\n            </div>\n          </div>\n        `;case"new_recorrente":const g=t.recorrenteParcelasTotal&&t.recorrenteParcelasTotal>1?`<div style="margin-bottom: 8px;">\n               <strong>🔢 Parcelas:</strong> ${t.recorrenteParcelasRestantes||t.recorrenteParcelasTotal}/${t.recorrenteParcelasTotal}\n             </div>`:"";return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Nova despesa recorrente criada:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #10b981;">\n            <div style="margin-bottom: 8px;">\n              <strong>📝 Nome:</strong> ${t.recorrenteNome||"Nova despesa recorrente"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Valor:</strong> ${a(t.recorrenteValor)}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>📅 Frequência:</strong> ${t.recorrenteFrequencia||"Mensal"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Categoria:</strong> ${t.recorrenteCategoria||"Sem categoria"}\n            </div>\n            ${g}\n            <div>\n              <strong>📄 Descrição:</strong> ${t.recorrenteDescricao||"Sem descrição"}\n            </div>\n          </div>\n        `;case"updated_recorrente":const p=Array.isArray(t.changes)?t.changes:[],y=t.prev;let v="";return p.includes("nome")&&y?.nome&&(v+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📝 Nome alterado:</strong> \n              <span style="color: #ef4444;">"${y.nome}"</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">"${t.recorrenteNome}"</span>\n            </div>\n          `),p.includes("valor")&&y?.valor&&(v+=`\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Valor alterado:</strong> \n              <span style="color: #ef4444;">${a(y.valor)}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${a(t.recorrenteValor)}</span>\n            </div>\n          `),p.includes("frequencia")&&y?.frequencia&&(v+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📅 Frequência alterada:</strong> \n              <span style="color: #ef4444;">${y.frequencia}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${t.recorrenteFrequencia}</span>\n            </div>\n          `),p.includes("categoria")&&y?.categoria&&(v+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Categoria alterada:</strong> \n              <span style="color: #ef4444;">${y.categoria}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${t.recorrenteCategoria}</span>\n            </div>\n          `),p.includes("descricao")&&y?.descricao&&(v+=`\n            <div style="margin-bottom: 8px;">\n              <strong>📄 Descrição alterada:</strong> \n              <span style="color: #ef4444;">"${y.descricao}"</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">"${t.recorrenteDescricao}"</span>\n            </div>\n          `),p.includes("parcelasRestantes")&&void 0!==y?.parcelasRestantes&&(v+=`\n            <div style="margin-bottom: 8px;">\n              <strong>🔢 Parcelas restantes alteradas:</strong> \n              <span style="color: #ef4444;">${y.parcelasRestantes||"Ilimitadas"}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${t.recorrenteParcelasRestantes||"Ilimitadas"}</span>\n            </div>\n          `),p.includes("parcelasTotal")&&void 0!==y?.parcelasTotal&&(v+=`\n            <div style="margin-bottom: 8px;">\n              <strong>🔢 Total de parcelas alterado:</strong> \n              <span style="color: #ef4444;">${y.parcelasTotal||"Ilimitadas"}</span> \n              <span style="margin: 0 8px;">→</span> \n              <span style="color: #10b981;">${t.recorrenteParcelasTotal||"Ilimitadas"}</span>\n            </div>\n          `),`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Despesa recorrente atualizada:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #3b82f6;">\n            ${v||`\n              <div style="margin-bottom: 8px;">\n                <strong>📝 Nome:</strong> ${t.recorrenteNome||"Despesa recorrente"}\n              </div>\n              <div>\n                <strong>💰 Valor:</strong> ${a(t.recorrenteValor)}\n              </div>\n            `}\n          </div>\n        `;case"deleted_recorrente":const f=t.recorrenteParcelasTotal&&t.recorrenteParcelasTotal>1?`<div style="margin-bottom: 8px;">\n               <strong>🔢 Parcelas:</strong> ${t.recorrenteParcelasRestantes||t.recorrenteParcelasTotal}/${t.recorrenteParcelasTotal}\n             </div>`:"";return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Despesa recorrente excluída:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">\n            <div style="margin-bottom: 8px;">\n              <strong>📝 Nome:</strong> ${t.recorrenteNome||"Despesa recorrente excluída"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>💰 Valor:</strong> ${a(t.recorrenteValor)}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>📅 Frequência:</strong> ${t.recorrenteFrequencia||"Mensal"}\n            </div>\n            <div style="margin-bottom: 8px;">\n              <strong>📁 Categoria:</strong> ${t.recorrenteCategoria||"Sem categoria"}\n            </div>\n            ${f}\n            <div>\n              <strong>📄 Descrição:</strong> ${t.recorrenteDescricao||"Sem descrição"}\n            </div>\n          </div>\n        `;case"test_notification":return`\n          <div class="notification-modal-message" style="color: ${n}; margin-bottom: 12px;">\n            <strong>Notificação de teste:</strong>\n          </div>\n          <div class="notification-modal-details" style="color: ${o}; background: ${e?"#374151":"#f9fafb"}; padding: 12px; border-radius: 8px; border-left: 4px solid #8b5cf6;">\n            <div>\n              <strong>🧪 Mensagem:</strong> ${t.message||"Teste do sistema de notificações"}\n            </div>\n          </div>\n        `;default:return`\n          <div class="notification-modal-message" style="color: ${n};">\n            ${t.message||"Você tem uma nova notificação."}\n          </div>\n          ${t.details?`\n            <div class="notification-modal-details" style="color: ${o};">\n              <strong>Detalhes:</strong> ${t.details}\n            </div>\n          `:""}\n        `}}async markAsRead(o){try{await t(o),n.emit("snackbar:show",{message:"Notificação marcada como lida",type:"success",duration:2e3})}catch(e){n.emit("snackbar:show",{message:"Erro ao marcar notificação como lida",type:"error",duration:3e3})}}hide(){const t=document.getElementById("notification-modal");t&&(t.classList.remove("notification-modal-show"),setTimeout(()=>{this.isOpen&&this.currentNotification&&!this.currentNotification.read&&this.markAsRead(this.currentNotification.id),t.remove(),this.isOpen=!1,this.currentNotification=null},300))}close(){if(!this.isOpen)return;this.isOpen=!1,this.currentNotification=null;const t=document.getElementById("notification-modal");t&&(t.classList.remove("notification-modal-show"),setTimeout(()=>{t.style.display="none",t.style.opacity="0",t.style.visibility="hidden"},300)),this.autoCloseTimer&&(clearTimeout(this.autoCloseTimer),this.autoCloseTimer=null)}destroy(){this.close();const t=document.getElementById("notification-modal");t&&t.remove()}}let e=null;function a(){return e||(e=new o),e}export{o as default,a as getNotificationModal};

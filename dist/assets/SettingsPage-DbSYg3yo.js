const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-BTanfOAJ.js","assets/vendor-7JQXQzuE.js","assets/main-Dc-JefT-.css"])))=>i.map(i=>d[i]);
import{_ as e,k as t}from"./main-BTanfOAJ.js";import{loadBudgetInvitations as a,loadSentBudgetInvitations as n,fetchUsersInfo as r,fetchUserInfo as d}from"./settings.service-Dg74ISKI.js";import"./vendor-7JQXQzuE.js";function s(e){e?(document.body.classList.remove("no-animations"),localStorage.setItem("animationsEnabled","1")):(document.body.classList.add("no-animations"),localStorage.setItem("animationsEnabled","0"))}function i(e,t,a){return`\n    <div class="empty-state">\n        <div class="empty-icon">${e}</div>\n        <div class="empty-text">${t}</div>\n        <div class="empty-description">${a}</div>\n    </div>\n    `}function o(e){const{currentUser:t,currentBudget:a,budgets:n,usersWithAccess:r,ownerDisplay:d,pendingInvitations:s,sentInvitations:o}=e;return`\n    <div class="tab-container">\n        <div class="tab-header">\n        <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-600">\n          <div class="flex items-center justify-between w-full gap-4">\n            <div class="flex items-center gap-3">\n              <div class="flex items-center gap-2">\n                <div class="w-8 h-8 bg-gradient-to-br from-gray-500 to-gray-700 rounded-lg flex items-center justify-center">\n                  <span class="text-white text-sm">‚öôÔ∏è</span>\n                </div>\n                <div>\n                  <h1 class="text-2xl font-semibold text-gray-900 leading-tight">Configura√ß√µes</h1>\n                  <div class="flex items-center gap-1">\n                    <span class="text-gray-600 dark:text-gray-400 text-xs">${t?.displayName||t?.email?.split("@")[0]||"Usu√°rio"}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="flex items-center gap-2">\n              \x3c!-- Status de Conex√£o --\x3e\n              <div class="flex items-center gap-1 text-xs bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-md">\n                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>\n                <span class="text-green-700 dark:text-green-300">Online</span>\n              </div>\n              \x3c!-- Toggle de Tema R√°pido --\x3e\n              <button class="theme-toggle-btn btn btn-ghost btn-sm" title="Alternar tema">\n                <span class="text-sm">${document.documentElement.classList.contains("dark")?"‚òÄÔ∏è":"üåô"}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n        </div>\n        <div class="tab-content">\n            <div class="settings-container">\n                <div class="content-spacing">\n                    \n                    \x3c!-- ========== SE√á√ÉO 1: RESUMO COMPACTO ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-blue-500 to-green-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">‚öôÔ∏è Resumo</h2>\n                        </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-xl shadow-lg border border-blue-200 dark:border-gray-600 p-2">\n                            \x3c!-- Header Ultra Compacto em linha √∫nica --\x3e\n                            <div class="flex items-center justify-between mb-2 gap-4">\n                                <div class="flex items-center gap-1">\n                                    <span class="text-base">‚öôÔ∏è</span>\n                                    <h3 class="text-sm font-bold text-gray-800 dark:text-gray-200">Configura√ß√µes do Sistema</h3>\n                                </div>\n                                <div class="flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400">\n                                    <span>${a?.nome||"Or√ßamento Principal"}</span>\n                                </div>\n                            </div>\n\n                            \x3c!-- Grid Ultra Compacto 2x2 --\x3e\n                            <div class="grid grid-cols-2 gap-1">\n                                \x3c!-- Usu√°rio Atual --\x3e\n                                <div class="bg-white dark:bg-gray-800 rounded-md p-2 shadow-sm border border-gray-200 dark:border-gray-600">\n                                    <div class="flex items-center justify-between gap-4">\n                                        <div class="flex items-center gap-1">\n                                            <span class="text-sm">üë§</span>\n                                            <span class="text-xs font-medium text-gray-800 dark:text-gray-200">${t?.displayName||t?.email?.split("@")[0]||"Usu√°rio"}</span>\n                                        </div>\n                                        <span class="text-xs text-green-600 dark:text-green-400 font-bold">Ativo</span>\n                                    </div>\n                                </div>\n                                \n                                \x3c!-- Total de Usu√°rios --\x3e\n                                <div class="bg-white dark:bg-gray-800 rounded-md p-2 shadow-sm border border-gray-200 dark:border-gray-600">\n                                    <div class="flex items-center justify-between gap-4">\n                                        <div class="flex items-center gap-1">\n                                            <span class="text-sm">üë•</span>\n                                            <span class="text-xs font-medium text-gray-800 dark:text-gray-200">${r.length+1}</span>\n                                        </div>\n                                        <span class="text-xs text-blue-600 dark:text-blue-400">Usu√°rios</span>\n                                    </div>\n                                </div>\n                                \n                                \x3c!-- Propriet√°rio --\x3e\n                                <div class="bg-white dark:bg-gray-800 rounded-md p-2 shadow-sm border border-gray-200 dark:border-gray-600">\n                                    <div class="flex flex-col gap-1">\n                                        <div class="flex items-center gap-1">\n                                            <span class="text-sm">üëë</span>\n                                            <span class="text-xs font-medium text-gray-800 dark:text-gray-200">Propriet√°rio</span>\n                                        </div>\n                                        <div class="text-xs text-purple-600 dark:text-purple-400 truncate" title="${d}">\n                                            ${d.split("@")[0]||d}\n                                        </div>\n                                    </div>\n                                </div>\n                                \n                                \x3c!-- Data de Cria√ß√£o --\x3e\n                                <div class="bg-white dark:bg-gray-800 rounded-md p-2 shadow-sm border border-gray-200 dark:border-gray-600">\n                                    <div class="flex items-center justify-between gap-4">\n                                        <div class="flex items-center gap-1">\n                                            <span class="text-sm">üìÖ</span>\n                                            <span class="text-xs font-medium text-gray-800 dark:text-gray-200">Criado</span>\n                                        </div>\n                                        <span class="text-xs text-gray-600 dark:text-gray-400">${a?.createdAt?new Date(1e3*a.createdAt.seconds).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}):"N/A"}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- ========== SE√á√ÉO 2: CONTA E SEGURAN√áA ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-red-500 to-orange-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">üîê Conta & Seguran√ßa</h2>\n                        </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-4 mb-6">\n                            \x3c!-- Header Compacto --\x3e\n                            <div class="flex items-center justify-between mb-4 gap-4">\n                                <div>\n                                    <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                                        <span class="text-xl">üîê</span>\n                                        Gerenciar Conta\n                                    </h3>\n                                    <p class="text-sm text-gray-600 dark:text-gray-400">Configura√ß√µes de seguran√ßa e autentica√ß√£o</p>\n                                </div>\n                                <div class="text-right">\n                                    <div class="text-lg font-bold text-green-600 dark:text-green-400">\n                                        ${t?"Conectado":"Desconectado"}\n                                    </div>\n                                    <p class="text-xs text-gray-500 dark:text-gray-400">Status</p>\n                                </div>\n                            </div>\n                            \n                            \x3c!-- Conta do Usu√°rio --\x3e\n                    ${t?`\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <div class="flex items-center justify-between">\n                                    <div class="min-w-0 flex-1">\n                                <div class="text-sm text-gray-600 dark:text-gray-400">Conectado como</div>\n                                <div class="font-medium text-gray-900 dark:text-gray-100 truncate" title="${t.email||""}">${t.email||"Usu√°rio"}</div>\n                            </div>\n                                    <button id="btn-logout" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200" title="Sair da conta">Sair</button>\n                        </div>\n                    </div>\n                    `:""}\n\n                            \x3c!-- Configura√ß√µes de Seguran√ßa --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üõ°Ô∏è</span>\n                                    Seguran√ßa\n                                </h5>\n                                <div class="space-y-3">\n                                    <div class="flex items-center justify-between gap-4">\n                                    <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Autentica√ß√£o Biom√©trica</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Impress√£o digital/Face ID</div>\n                                    </div>\n                                        <label class="toggle-switch">\n                                            <input type="checkbox" id="biometric-auth-toggle">\n                                            <span class="toggle-slider"></span>\n                                        </label>\n                                </div>\n                                    <div class="flex items-center justify-between gap-4">\n                                        <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Sincroniza√ß√£o Autom√°tica</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Sincronizar dados</div>\n                            </div>\n                                        <label class="toggle-switch">\n                                            <input type="checkbox" id="auto-sync-toggle" checked>\n                                            <span class="toggle-slider"></span>\n                                        </label>\n                            </div>\n                                    <div class="flex items-center justify-between gap-4">\n                                        <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Analytics</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Compartilhar dados de uso</div>\n                        </div>\n                                        <label class="toggle-switch">\n                                            <input type="checkbox" id="analytics-toggle">\n                                            <span class="toggle-slider"></span>\n                                        </label>\n                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- ========== SE√á√ÉO 3: COMPARTILHAMENTO ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">üë• Compartilhamento</h2>\n                        </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-4 mb-6">\n                            \x3c!-- Header Compacto --\x3e\n                            <div class="flex items-center justify-between mb-4 gap-4">\n                                <div>\n                                    <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                                        <span class="text-xl">üë•</span>\n                                        Gerenciar Compartilhamento\n                                    </h3>\n                                    <p class="text-sm text-gray-600 dark:text-gray-400">Usu√°rios, convites e or√ßamentos compartilhados</p>\n                                </div>\n                                <div class="text-right">\n                                    <div class="text-lg font-bold text-blue-600 dark:text-blue-400">\n                                        ${r.length+(o?.length||0)+(s?.length||0)}\n                                    </div>\n                                    <p class="text-xs text-gray-500 dark:text-gray-400">Total</p>\n                        </div>\n                    </div>\n\n                            \x3c!-- Usu√°rios com Acesso --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-6">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üë•</span>\n                                    Usu√°rios com Acesso\n                                </h5>\n                                ${function(e){return e&&0!==e.length?`\n    <div class="space-y-3">\n        ${e.map(e=>`\n            <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-3">\n                <div class="flex items-center justify-between mb-2 md:mb-0 gap-4">\n                    <div class="flex items-center gap-3 min-w-0 flex-1">\n                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium flex-shrink-0">\n                        ${e.email?.charAt(0).toUpperCase()||"U"}\n                    </div>\n                        <div class="min-w-0 flex-1">\n                            <div class="font-medium text-gray-900 dark:text-gray-100 truncate text-sm">${e.email||"Usu√°rio"}</div>\n                        <div class="text-xs text-gray-500 dark:text-gray-400">Membro</div>\n                    </div>\n                </div>\n                    <div class="flex-shrink-0 ml-2">\n                        <button class="remove-user-btn inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200" data-uid="${e.uid}" data-email="${e.email}" title="Remover usu√°rio">\n                            <span class="hidden sm:inline">üóëÔ∏è Remover</span>\n                            <span class="sm:hidden">üóëÔ∏è</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `).join("")}\n    </div>\n    `:'\n        <div class="text-center py-8">\n            <div class="text-4xl mb-3">üë•</div>\n            <div class="text-gray-500 dark:text-gray-400">Nenhum usu√°rio compartilhado</div>\n            <div class="text-sm text-gray-400 dark:text-gray-500 mt-1">Compartilhe seu or√ßamento para colaborar</div>\n        </div>\n        '}(r)}\n                            </div>\n\n                            \x3c!-- Convites Enviados --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-6">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üì§</span>\n                                    Convites Enviados\n                                </h5>\n                        ${function(e){return e&&0!==e.length?`\n    <div class="space-y-3">\n        ${e.map(e=>`\n            <div class="bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800 p-3" data-invite-id="${e.id}">\n                <div class="flex items-center justify-between mb-2 md:mb-0 gap-4">\n                    <div class="flex items-center gap-3 min-w-0 flex-1">\n                        <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white text-sm font-medium flex-shrink-0">üì§</div>\n                        <div class="min-w-0 flex-1">\n                            <div class="font-medium text-gray-900 dark:text-gray-100 truncate text-sm">${e.invitedUserEmail||e.email||"Email n√£o dispon√≠vel"}</div>\n                        <div class="text-xs text-orange-600 dark:text-orange-400">Enviado em ${e.sentAt?new Date(1e3*e.sentAt.seconds).toLocaleDateString("pt-BR"):"‚Äî"}</div>\n                    </div>\n                </div>\n                    <div class="flex-shrink-0 ml-2">\n                        <button class="cancel-invitation-btn inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200" data-invite-id="${e.id}" title="Cancelar convite">\n                            <span class="hidden sm:inline">‚ùå Cancelar</span>\n                            <span class="sm:hidden">‚ùå</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `).join("")}\n    </div>`:'\n        <div class="text-center py-8">\n            <div class="text-4xl mb-3">üì§</div>\n            <div class="text-gray-500 dark:text-gray-400">Nenhum convite pendente</div>\n            <div class="text-sm text-gray-400 dark:text-gray-500 mt-1">Convites enviados aparecer√£o aqui</div>\n        </div>'}(o)}\n                    </div>\n\n                            \x3c!-- Convites Recebidos --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-6">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üì¨</span>\n                                    Convites Recebidos\n                                </h5>\n                        ${function(e){return e&&0!==e.length?`\n    <div class="space-y-3">\n        ${e.map(e=>`\n            <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 p-3" data-invite-id="${e.id}" data-budget-id="${e.budgetId}">\n                <div class="flex items-center gap-3 mb-3">\n                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium flex-shrink-0">üì¨</div>\n                    <div class="min-w-0 flex-1">\n                        <div class="font-medium text-gray-900 dark:text-gray-100 truncate text-sm">${e.budgetName}</div>\n                        <div class="text-xs text-purple-600 dark:text-purple-400 truncate">Convite de ${e.ownerEmail}</div>\n                    </div>\n                </div>\n                <div class="flex gap-2">\n                    <button class="accept-invitation-btn inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/40 border border-green-200 dark:border-green-800 transition-all duration-200 flex-1" data-invite-id="${e.id}" title="Aceitar convite">\n                        ‚úÖ Aceitar\n                    </button>\n                    <button class="decline-invitation-btn inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200 flex-1" data-invite-id="${e.id}" title="Recusar convite">\n                        ‚ùå Recusar\n                    </button>\n                </div>\n            </div>\n        `).join("")}\n    </div>`:'\n        <div class="text-center py-8">\n            <div class="text-4xl mb-3">üì¨</div>\n            <div class="text-gray-500 dark:text-gray-400">Nenhum convite pendente</div>\n            <div class="text-sm text-gray-400 dark:text-gray-500 mt-1">Novos convites aparecer√£o aqui</div>\n        </div>'}(s)}\n                    </div>\n\n                            \x3c!-- Or√ßamentos Compartilhados --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-6">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>ü§ù</span>\n                                    Or√ßamentos Compartilhados\n                                </h5>\n                        ${function(e,t,a){const n=t?.uid,r=(e||[]).filter(e=>e&&(!1===e.isOwner||n&&e.userId&&e.userId!==n));return r.length?`\n        <div class="space-y-4">\n            ${r.map(e=>`\n                <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden">\n                    <div class="p-5">\n                        <div class="flex justify-between items-start gap-4">\n                            <div>\n                                <p class="font-bold text-lg text-gray-900 dark:text-gray-100">${e.nome||"Or√ßamento"}</p>\n                                <p class="text-xs text-green-600 dark:text-green-400 font-semibold bg-green-100 dark:bg-green-900/50 rounded-full px-2 py-0.5 inline-block mt-1">Compartilhado</p>\n                            </div>\n                            ${e.id!==a?.id?`\n                                <button type="button" class="enter-budget-button inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200" data-budget-id="${e.id}" data-budget-name="${(e.nome||"Or√ßamento").replace(/\"/g,"&quot;")}" title="Entrar neste or√ßamento">\n                                    <span class="enter-icon">üö™</span><span class="enter-text">Entrar</span>\n                                </button>\n                            `:'\n                                <div class="current-budget-badge"><span class="current-icon">‚úÖ</span><span class="current-text">Ativo</span></div>\n                            '}\n                        </div>\n                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-3 truncate">ID: ${e.id}</p>\n                    </div>\n                    <div class="bg-gray-50 dark:bg-gray-800/50 px-5 py-3 flex justify-end items-center gap-2">\n                        <button class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200 copy-budget-id-btn" data-budget-id="${e.id}" title="Copiar ID do or√ßamento">üìã Copiar ID</button>\n                        <button class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-900/40 border border-orange-200 dark:border-orange-800 transition-all duration-200 leave-budget-btn" data-budget-id="${e.id}" data-budget-name="${(e.nome||"Or√ßamento").replace(/"/g,"&quot;")}" title="Sair deste or√ßamento">üö™ Sair</button>\n                    </div>\n                </div>\n            `).join("")}\n        </div>\n    `:i("ü§ù","Nenhum or√ßamento compartilhado","Convites que voc√™ aceitar aparecer√£o aqui.")}(n,t,a)}\n                    </div>\n\n                            \x3c!-- Compartilhar Or√ßamento --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üîó</span>\n                                    Compartilhar Or√ßamento\n                                </h5>\n                            ${a?'\n                                    <div class="space-y-3">\n                                        <div class="bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg mb-3">\n                                        <div class="flex items-center gap-2 mb-2">\n                                            <span class="text-blue-600 dark:text-blue-400">üí°</span>\n                                            <span class="font-medium text-blue-800 dark:text-blue-200">Como funciona</span>\n                                        </div>\n                                            <p class="text-xs text-blue-700 dark:text-blue-300">\n                                            Digite o email do usu√°rio que deseja convidar. Ele receber√° um convite para colaborar no seu or√ßamento.\n                                        </p>\n                                    </div>\n                                        <form id="share-budget-form" class="space-y-3" autocomplete="off" novalidate>\n                                                                            <input type="email" id="share-email-input" name="email" placeholder="email@exemplo.com" \n                                                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm" required>\n                                            <button id="share-budget-btn" type="submit" class="w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-900/40 border border-orange-200 dark:border-orange-800 transition-all duration-200" data-loading-text="Enviando...">\n                                                <span class="hidden sm:inline">üì§ Enviar Convite</span>\n                                                <span class="sm:hidden">üì§ Enviar</span>\n                                                                            </button>\n                                                                        </form>\n                                </div>\n                            ':'\n                                <div class="text-center py-8">\n                                    <div class="text-4xl mb-3">üîó</div>\n                                    <div class="text-gray-500 dark:text-gray-400">Nenhum or√ßamento selecionado</div>\n                                    <div class="text-sm text-gray-400 dark:text-gray-500 mt-1">Selecione um or√ßamento para compartilhar</div>\n                                </div>\n                            '}\n                        </div>\n                    </div>\n\n                    \x3c!-- Se√ß√£o de Gerenciar Or√ßamentos --\x3e\n                    <div class="mb-12">\n                        <h2 class="section-title blue-border">üìÅ Meus Or√ßamentos</h2>\n                        <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-4">\n                        ${function(e,t,a){const n=t?.uid,r=(e||[]).filter(e=>e&&!1!==e.isOwner&&(!n||e.userId===n));return r.length?`\n        <div class="space-y-4">\n            ${r.map(e=>`\n                <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-lg border ${e.id===a?.id?"border-blue-500":"border-gray-200 dark:border-gray-700"} overflow-hidden">\n                    <div class="p-5">\n                        <div class="flex justify-between items-start gap-4">\n                            <div>\n                                <p class="font-bold text-lg text-gray-900 dark:text-gray-100">${e.nome}</p>\n                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Criado em ${e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleDateString("pt-BR"):"Data n√£o dispon√≠vel"}</p>\n                            </div>\n                            ${e.id!==a?.id?`\n                                <button type="button" class="enter-budget-button inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200" data-budget-id="${e.id}" data-budget-name="${(e.nome||"Or√ßamento").replace(/"/g,"&quot;")}" title="Entrar neste or√ßamento">\n                                    <span class="enter-icon">üö™</span><span class="enter-text">Entrar</span>\n                                </button>\n                            `:'\n                                <div class="current-budget-badge"><span class="current-icon">‚úÖ</span><span class="current-text">Ativo</span></div>\n                            '}\n                        </div>\n                    </div>\n                    <div class="bg-gray-50 dark:bg-gray-800/50 px-5 py-3 flex justify-end items-center gap-2">\n                        <button class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200 copy-budget-id-btn" data-budget-id="${e.id}" title="Copiar ID do or√ßamento">üìã Copiar ID</button>\n                        <button class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200 delete-budget-btn" data-budget-id="${e.id}" data-budget-name="${(e.nome||"Or√ßamento").replace(/"/g,"&quot;")}" title="Excluir or√ßamento">üóëÔ∏è Excluir</button>\n                    </div>\n                </div>\n            `).join("")}\n        </div>\n    `:i("üóÇÔ∏è","Nenhum or√ßamento pr√≥prio","Crie um novo or√ßamento para come√ßar.")}(n,t,a)}\n                        <button id="create-new-budget-btn" class="create-button inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200 mt-5 w-full" title="Criar novo or√ßamento">‚ûï Criar Novo Or√ßamento</button>\n                        \n                        \x3c!-- TESTE: Bot√£o para testar notifica√ß√µes --\x3e\n                        <button id="test-notifications-btn" class="inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200 mt-3 w-full" title="Testar notifica√ß√µes">üß™ Testar Notifica√ß√µes</button>\n                        </div>\n                    </div>\n\n                    \x3c!-- ========== SE√á√ÉO 3: DADOS E PRIVACIDADE ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-red-500 to-orange-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">üíæ Dados e Privacidade</h2>\n                        </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-4 mb-6">\n                            \x3c!-- Header Compacto --\x3e\n                            <div class="flex items-center justify-between mb-4 gap-4">\n                                <div>\n                                    <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                                        <span class="text-xl">üíæ</span>\n                                        Gerenciar Dados\n                                    </h3>\n                                    <p class="text-sm text-gray-600 dark:text-gray-400">Backup, importa√ß√£o e limpeza de dados</p>\n                                </div>\n                                <div class="text-right">\n                                    <div class="text-lg font-bold text-red-600 dark:text-red-400">3</div>\n                                    <p class="text-xs text-gray-500 dark:text-gray-400">A√ß√µes</p>\n                                </div>\n                            </div>\n                            \n                            \x3c!-- A√ß√µes de Dados --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-600">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üíæ</span>\n                                    A√ß√µes de Dados\n                                </h5>\n                                <div class="grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4">\n                                    <button id="export-data-btn" class="inline-flex items-center justify-center gap-2 md:gap-3 p-3 md:p-4 rounded-lg text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200" title="Exportar dados">\n                                        <span class="text-lg md:text-2xl">üì§</span>\n                                    <div class="text-left">\n                                            <div class="font-semibold text-sm md:text-base">\n                                                <span class="hidden sm:inline">Exportar Dados</span>\n                                                <span class="sm:hidden">Exportar</span>\n                                            </div>\n                                            <div class="text-xs opacity-75">\n                                                <span class="hidden sm:inline">Backup completo</span>\n                                                <span class="sm:hidden">Backup</span>\n                                            </div>\n                                    </div>\n                                </button>\n                                    <button id="import-data-btn" class="inline-flex items-center justify-center gap-2 md:gap-3 p-3 md:p-4 rounded-lg text-sm font-medium text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/40 border border-green-200 dark:border-green-800 transition-all duration-200" title="Importar dados">\n                                        <span class="text-lg md:text-2xl">üì•</span>\n                                    <div class="text-left">\n                                            <div class="font-semibold text-sm md:text-base">\n                                                <span class="hidden sm:inline">Importar Dados</span>\n                                                <span class="sm:hidden">Importar</span>\n                                            </div>\n                                            <div class="text-xs opacity-75">\n                                                <span class="hidden sm:inline">Restaurar backup</span>\n                                                <span class="sm:hidden">Restaurar</span>\n                                            </div>\n                                    </div>\n                                </button>\n                                    <button id="clear-data-btn" class="inline-flex items-center justify-center gap-2 md:gap-3 p-3 md:p-4 rounded-lg text-sm font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200" title="Limpar dados">\n                                        <span class="text-lg md:text-2xl">üóëÔ∏è</span>\n                                    <div class="text-left">\n                                            <div class="font-semibold text-sm md:text-base">\n                                                <span class="hidden sm:inline">Limpar Dados</span>\n                                                <span class="sm:hidden">Limpar</span>\n                                            </div>\n                                            <div class="text-xs opacity-75">\n                                                <span class="hidden sm:inline">Remover tudo</span>\n                                                <span class="sm:hidden">Remover</span>\n                                            </div>\n                                    </div>\n                                </button>\n                            </div>\n                                \n                                \x3c!-- Informa√ß√µes de Seguran√ßa --\x3e\n                                <div class="mt-4 bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-200 dark:border-yellow-700">\n                                    <div class="flex items-center gap-2 mb-2">\n                                        <span class="text-yellow-600 dark:text-yellow-400">‚ö†Ô∏è</span>\n                                        <span class="font-medium text-yellow-800 dark:text-yellow-200">Importante</span>\n                                    </div>\n                                    <p class="text-xs text-yellow-700 dark:text-yellow-300">\n                                        ‚Ä¢ <strong>Exportar:</strong> Cria backup de todos os seus dados<br>\n                                        ‚Ä¢ <strong>Importar:</strong> Restaura dados de um arquivo de backup<br>\n                                        ‚Ä¢ <strong>Limpar:</strong> Remove permanentemente todos os dados (irrevers√≠vel)\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- ========== SE√á√ÉO 4: NOTIFICA√á√ïES ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-orange-500 to-yellow-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">üîî Notifica√ß√µes</h2>\n                        </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-4 mb-6">\n                            \x3c!-- Header Compacto --\x3e\n                            <div class="flex items-center justify-between mb-4 gap-4">\n                                    <div>\n                                    <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                                        <span class="text-xl">üîî</span>\n                                        Configura√ß√µes de Notifica√ß√µes\n                                    </h3>\n                                    <p class="text-sm text-gray-600 dark:text-gray-400">Alertas, lembretes e toasts</p>\n                                </div>\n                                <div class="text-right">\n                                    <div class="text-lg font-bold text-orange-600 dark:text-orange-400">3</div>\n                                    <p class="text-xs text-gray-500 dark:text-gray-400">Tipos</p>\n                                </div>\n                            </div>\n                            \n                            \x3c!-- Notifica√ß√µes do Sistema --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üîî</span>\n                                    Notifica√ß√µes do Sistema\n                                </h5>\n                                <div class="space-y-3">\n                                    <div class="flex items-center justify-between gap-4">\n                                        <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Alertas de Limite</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Notificar quando categoria exceder 70%</div>\n                                    </div>\n                                    <label class="toggle-switch">\n                                        <input type="checkbox" id="limit-alerts-toggle" checked>\n                                        <span class="toggle-slider"></span>\n                                    </label>\n                                </div>\n                                    <div class="flex items-center justify-between gap-4">\n                                    <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Lembretes de Recorrentes</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Lembrar despesas recorrentes</div>\n                                    </div>\n                                    <label class="toggle-switch">\n                                        <input type="checkbox" id="recurring-reminders-toggle" checked>\n                                        <span class="toggle-slider"></span>\n                                    </label>\n                                </div>\n                                    <div class="flex items-center justify-between gap-4">\n                                    <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Resumo Semanal</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Relat√≥rio semanal das finan√ßas</div>\n                                    </div>\n                                    <label class="toggle-switch">\n                                        <input type="checkbox" id="weekly-summary-toggle">\n                                        <span class="toggle-slider"></span>\n                                    </label>\n                            </div>\n                        </div>\n                    </div>\n\n                            \x3c!-- Configura√ß√µes de Toast --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üîî</span>\n                                    Toasts (Snackbar)\n                                </h5>\n                                <div class="space-y-3">\n                                <div class="bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg">\n                                    <div class="flex items-center gap-2 mb-2">\n                                        <span class="text-yellow-600 dark:text-yellow-400">üîî</span>\n                                        <span class="font-medium text-yellow-800 dark:text-yellow-200">Ajuste posi√ß√£o, dura√ß√£o, fila e anti-spam</span>\n                                    </div>\n                                </div>\n                                    <div class="grid grid-cols-2 gap-3">\n                                    <div>\n                                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Dura√ß√£o (ms)</label>\n                                            <input type="number" id="toast-duration" value="500" class="w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">\n                                    </div>\n                                    <div>\n                                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Dist√¢ncia (px)</label>\n                                            <input type="number" id="toast-offset" value="80" class="w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">\n                                    </div>\n                                    <div>\n                                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Posi√ß√£o</label>\n                                            <select id="toast-position" class="w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">\n                                            <option value="bottom">Inferior</option>\n                                            <option value="top">Superior</option>\n                                        </select>\n                                    </div>\n                                    <div>\n                                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Alinhamento</label>\n                                            <select id="toast-align" class="w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">\n                                            <option value="center">Centro</option>\n                                            <option value="left">Esquerda</option>\n                                            <option value="right">Direita</option>\n                                        </select>\n                                    </div>\n                                    </div>\n                                    <div class="flex items-center justify-between gap-4">\n                                    <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Pausar no hover</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Pausar toast quando mouse passar por cima</div>\n                                    </div>\n                                    <label class="toggle-switch">\n                                        <input type="checkbox" id="toast-hover-pause" checked>\n                                        <span class="toggle-slider"></span>\n                                    </label>\n                                </div>\n                                    <div class="flex gap-2">\n                                        <button id="apply-toast-settings" class="inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200 flex-1" title="Aplicar configura√ß√µes">Aplicar</button>\n                                        <button id="reset-toast-settings" class="inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200 flex-1" title="Resetar configura√ß√µes">Reset</button>\n                                        <button id="test-toast" class="inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 border border-purple-200 dark:border-purple-800 transition-all duration-200 flex-1" title="Testar notifica√ß√£o">Testar</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- ========== SE√á√ÉO 5: APAR√äNCIA ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">üé® Apar√™ncia</h2>\n                                    </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-4 mb-6">\n                            \x3c!-- Header Compacto --\x3e\n                            <div class="flex items-center justify-between mb-4 gap-4">\n                                <div>\n                                    <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                                        <span class="text-xl">üé®</span>\n                                        Personalizar Apar√™ncia\n                                    </h3>\n                                    <p class="text-sm text-gray-600 dark:text-gray-400">Tema, cores e interface</p>\n                                </div>\n                                <div class="text-right">\n                                    <div class="text-lg font-bold text-purple-600 dark:text-purple-400">4</div>\n                                    <p class="text-xs text-gray-500 dark:text-gray-400">Op√ß√µes</p>\n                        </div>\n                    </div>\n\n                            \x3c!-- Modo Escuro --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üåô</span>\n                                    Modo Escuro\n                                </h5>\n                                <div class="flex items-center justify-between">\n                                    <div>\n                                        <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Alternar tema</div>\n                                        <div class="text-xs text-gray-500 dark:text-gray-400">Tema claro/escuro</div>\n                                    </div>\n                                    <button id="toggle-theme-btn" class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 border border-purple-200 dark:border-purple-800 transition-all duration-200" title="Alternar tema">\n                                        üåô Alternar\n                                    </button>\n                        </div>\n                    </div>\n\n                            \x3c!-- Tema de Cores --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üé®</span>\n                                    Tema de Cores\n                                </h5>\n                                <div class="flex justify-center gap-3">\n                                    <button class="color-theme-btn w-10 h-10 rounded-full border-2 border-blue-500 bg-blue-500 hover:scale-110 transition-transform" data-theme="blue" title="Tema Azul"></button>\n                                    <button class="color-theme-btn w-10 h-10 rounded-full border-2 border-gray-300 bg-green-500 hover:scale-110 transition-transform" data-theme="green" title="Tema Verde"></button>\n                                    <button class="color-theme-btn w-10 h-10 rounded-full border-2 border-gray-300 bg-purple-500 hover:scale-110 transition-transform" data-theme="purple" title="Tema Roxo"></button>\n                                    <button class="color-theme-btn w-10 h-10 rounded-full border-2 border-gray-300 bg-orange-500 hover:scale-110 transition-transform" data-theme="orange" title="Tema Laranja"></button>\n                                    </div>\n                                </div>\n\n                            \x3c!-- Modo Compacto --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üìê</span>\n                                    Modo Compacto\n                                </h5>\n                                <div class="space-y-3">\n                                    <div class="flex items-center justify-between gap-4">\n                                    <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Ativar modo compacto</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Reduzir espa√ßamentos e tamanhos</div>\n                                    </div>\n                                    <label class="toggle-switch">\n                                        <input type="checkbox" id="compact-mode-toggle">\n                                        <span class="toggle-slider"></span>\n                                    </label>\n                                </div>\n                                    <div class="flex gap-2">\n                                        <button class="compact-size-btn inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200" data-size="micro" title="Modo Micro">Micro</button>\n                                        <button class="compact-size-btn inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200" data-size="nano" title="Modo Nano">Nano</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- ========== SE√á√ÉO 6: SISTEMA ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-green-500 to-teal-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">‚öôÔ∏è Sistema</h2>\n                                    </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-4 mb-6">\n                            \x3c!-- Header Compacto --\x3e\n                            <div class="flex items-center justify-between mb-4 gap-4">\n                                <div>\n                                    <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                                        <span class="text-xl">‚öôÔ∏è</span>\n                                        Configura√ß√µes do Sistema\n                                    </h3>\n                                    <p class="text-sm text-gray-600 dark:text-gray-400">Performance, anima√ß√µes e otimiza√ß√µes</p>\n                                </div>\n                                <div class="text-right">\n                                    <div class="text-lg font-bold text-green-600 dark:text-green-400">3</div>\n                                    <p class="text-xs text-gray-500 dark:text-gray-400">Op√ß√µes</p>\n                                </div>\n                                </div>\n                            \n                            \x3c!-- Tamanho do Bloco de Dias --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>‚ö°</span>\n                                    Performance\n                                </h5>\n                                <div class="space-y-3">\n                                    <div>\n                                        <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Tamanho do bloco de dias</label>\n                                        <input type="text" id="days-chunk-size" value="Autom√°tico" placeholder="Deixe em branco para autom√°tico" class="w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">\n                            </div>\n                                    <div class="flex gap-2">\n                                        <button id="save-days-chunk" class="inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200 flex-1" title="Salvar configura√ß√£o">Salvar</button>\n                                        <button id="reset-days-chunk" class="inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200 flex-1" title="Resetar para padr√£o">Reset</button>\n                        </div>\n                    </div>\n                                    </div>\n\n                            \x3c!-- Anima√ß√µes --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>‚ú®</span>\n                                    Anima√ß√µes\n                                </h5>\n                                <div class="flex items-center justify-between">\n                                    <div>\n                                        <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Ativar anima√ß√µes</div>\n                                        <div class="text-xs text-gray-500 dark:text-gray-400">Mostrar anima√ß√µes e transi√ß√µes suaves</div>\n                                    </div>\n                                    <label class="toggle-switch">\n                                        <input type="checkbox" id="animations-toggle" checked>\n                                        <span class="toggle-slider"></span>\n                                    </label>\n                        </div>\n                    </div>\n\n                            \x3c!-- Telemetria --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>üìä</span>\n                                    Telemetria\n                                </h5>\n                                <div class="space-y-3">\n                                    <div class="flex items-center justify-between gap-4">\n                                    <div>\n                                            <div class="text-sm font-medium text-gray-900 dark:text-gray-100">Ativar telemetria</div>\n                                            <div class="text-xs text-gray-500 dark:text-gray-400">Coletar dados de performance localmente</div>\n                                    </div>\n                                    <label class="toggle-switch">\n                                        <input type="checkbox" id="performance-telemetry-toggle" checked>\n                                        <span class="toggle-slider"></span>\n                                    </label>\n                                </div>\n                                    <button id="view-performance-events" class="btn btn-ghost btn-sm w-full">\n                                        üìä Ver eventos\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- ========== SE√á√ÉO 7: INFORMA√á√ïES E SUPORTE ========== --\x3e\n                    <div class="mb-12">\n                        <div class="flex items-center gap-2 mb-4">\n                            <div class="w-1 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"></div>\n                            <h2 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100">‚ÑπÔ∏è Informa√ß√µes & Suporte</h2>\n                                    </div>\n                        \n                        <div class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-2xl shadow-lg border border-blue-200 dark:border-gray-600 p-3 md:p-4 mb-6">\n                            \x3c!-- Header Compacto --\x3e\n                            <div class="flex items-center justify-between mb-3 md:mb-4">\n                                    <div>\n                                    <h3 class="text-base md:text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">\n                                        <span class="text-lg md:text-xl">‚ÑπÔ∏è</span>\n                                        <span class="hidden sm:inline">Sobre o App</span>\n                                        <span class="sm:hidden">Info</span>\n                                    </h3>\n                                    <p class="text-xs md:text-sm text-gray-600 dark:text-gray-400">\n                                        <span class="hidden md:inline">Informa√ß√µes, suporte e atualiza√ß√µes</span>\n                                        <span class="md:hidden">Suporte e atualiza√ß√µes</span>\n                                    </p>\n                                    </div>\n                                <div class="text-right">\n                                    <div class="text-sm md:text-lg font-bold text-gray-600 dark:text-gray-400">Sistema</div>\n                                    <p class="text-xs text-gray-500 dark:text-gray-400">Ativo</p>\n                                </div>\n                                    </div>\n                            \n                            \x3c!-- Informa√ß√µes do Sistema --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 md:p-4 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 md:mb-4 flex items-center gap-1">\n                                    <span>üìä</span>\n                                    Informa√ß√µes do Sistema\n                                </h5>\n                                <div class="space-y-2 md:space-y-3">\n                                    \x3c!-- Linha 1: Vers√£o e SW --\x3e\n                                    <div class="grid grid-cols-2 gap-2 md:gap-4">\n                                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-2 md:p-3">\n                                            <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">üì± App</div>\n                                            <div class="font-bold text-xs md:text-sm text-gray-800 dark:text-gray-200">Servo Tech</div>\n                                </div>\n                                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-2 md:p-3">\n                                            <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">‚öôÔ∏è SW</div>\n                                            <div class="font-bold text-xs md:text-sm text-gray-800 dark:text-gray-200">v4.57.0</div>\n                        </div>\n                    </div>\n\n                                    \x3c!-- Linha 2: Desenvolvedor e Tecnologias --\x3e\n                                    <div class="grid grid-cols-2 gap-2 md:gap-4">\n                                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-2 md:p-3">\n                                            <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">üë®‚Äçüíª Dev</div>\n                                            <div class="font-bold text-xs md:text-sm text-gray-800 dark:text-gray-200">Igor Bispo</div>\n                                        </div>\n                                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-2 md:p-3">\n                                            <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">üõ†Ô∏è Tech</div>\n                                            <div class="font-bold text-xs md:text-sm text-gray-800 dark:text-gray-200">\n                                                <span class="hidden md:inline">Firebase, JS, PWA</span>\n                                                <span class="md:hidden">Firebase+</span>\n                                        </div>\n                                        </div>\n                                        </div>\n                                    \n                                    \x3c!-- Linha 3: Atualiza√ß√£o e Status --\x3e\n                                    <div class="grid grid-cols-2 gap-2 md:gap-4">\n                                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-2 md:p-3">\n                                            <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">üìÖ Update</div>\n                                            <div class="font-bold text-xs md:text-sm text-gray-800 dark:text-gray-200">Out 2025</div>\n                                        </div>\n                                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-2 md:p-3">\n                                            <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">üîß Build</div>\n                                            <div class="font-bold text-xs md:text-sm text-gray-800 dark:text-gray-200">v1.0.9</div>\n                                        </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            \x3c!-- A√ß√µes R√°pidas --\x3e\n                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-600 mb-4">\n                                <h5 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-1">\n                                    <span>‚ö°</span>\n                                    A√ß√µes R√°pidas\n                                </h5>\n                                <div class="grid grid-cols-2 md:grid-cols-3 gap-2 md:gap-3">\n                                    <button id="check-updates-btn" class="inline-flex items-center justify-center gap-1 md:gap-2 p-2 md:p-3 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-800 transition-all duration-200" title="Verificar atualiza√ß√µes">\n                                        <span class="text-sm md:text-base">‚òÅÔ∏è‚¨áÔ∏è</span>\n                                        <span class="hidden sm:inline">Atualiza√ß√µes</span>\n                                        <span class="sm:hidden">Update</span>\n                                    </button>\n                                    <button id="help-support-btn" class="inline-flex items-center justify-center gap-1 md:gap-2 p-2 md:p-3 rounded-lg text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 border border-purple-200 dark:border-purple-800 transition-all duration-200" title="Ajuda e suporte">\n                                        <span class="text-sm md:text-base">‚ùì</span>\n                                        <span>Suporte</span>\n                                    </button>\n                                    <button id="whats-new-btn" class="inline-flex items-center justify-center gap-1 md:gap-2 p-2 md:p-3 rounded-lg text-xs font-medium text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/40 border border-green-200 dark:border-green-800 transition-all duration-200" title="O que mudou">\n                                        <span class="text-sm md:text-base">üìÑ</span>\n                                        <span class="hidden sm:inline">O que mudou</span>\n                                        <span class="sm:hidden">Novidades</span>\n                                    </button>\n                                    <button id="copy-info-btn" class="inline-flex items-center justify-center gap-1 md:gap-2 p-2 md:p-3 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/20 hover:bg-gray-100 dark:hover:bg-gray-900/40 border border-gray-200 dark:border-gray-800 transition-all duration-200" title="Copiar informa√ß√µes">\n                                        <span class="text-sm md:text-base">üìã</span>\n                                        <span class="hidden sm:inline">Copiar Info</span>\n                                        <span class="sm:hidden">Copiar</span>\n                                    </button>\n                                    <button id="clear-cache-btn" class="inline-flex items-center justify-center gap-1 md:gap-2 p-2 md:p-3 rounded-lg text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800 transition-all duration-200" title="Limpar cache">\n                                        <span class="text-sm md:text-base">üóëÔ∏è</span>\n                                        <span class="hidden sm:inline">Limpar Cache</span>\n                                        <span class="sm:hidden">Limpar</span>\n                                    </button>\n                                    <button id="install-app-btn" class="inline-flex items-center justify-center gap-1 md:gap-2 p-2 md:p-3 rounded-lg text-xs font-medium text-indigo-700 dark:text-indigo-300 bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 border border-indigo-200 dark:border-indigo-800 transition-all duration-200" title="Instalar aplicativo">\n                                        <span class="text-sm md:text-base">‚¨áÔ∏è</span>\n                                        <span>Instalar</span>\n                                    </button>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n    `}async function l(){const t=document.getElementById("app-content");if(t)try{const i=document.getElementById("toggle-theme-btn");if(i){const e=i.cloneNode(!0);i.parentNode.replaceChild(e,i)}const{currentUser:l,currentBudget:g,budgets:c=[]}=window.appState||{},[b,x,m,p]=await Promise.all([l?a(l.uid):[],g?n(g.id):[],g?r([...new Set([g.userId,...g.usuariosPermitidos||[]])]):[],g?d(g.userId):null]),u=p?.email||p?.displayName||"Propriet√°rio",v={currentUser:l,currentBudget:g,budgets:c,usersWithAccess:m.filter(e=>e.uid!==g?.userId),ownerDisplay:u,pendingInvitations:b,sentInvitations:x,appVersion:"v4.57.0",hasNewChangelog:!0,lastUpdateLabel:"09/10/2025",txChunkOverride:localStorage.getItem("txChunkSize")||"",perfEnabled:!1};t.innerHTML=o(v);try{"function"==typeof window.attachDynamicHandlers&&window.attachDynamicHandlers(t)}catch(s){}try{"function"==typeof window.setupGlobalHandlers&&window.setupGlobalHandlers()}catch(s){}!function(){try{window.initializeTheme&&window.initializeTheme();[{id:"help-support-btn",fn:window.openHelp},{id:"rate-app-btn",fn:window.rateApp},{id:"copy-info-btn",fn:window.copyAppInfo},{id:"clear-cache-btn",fn:window.clearOfflineCache},{id:"whats-new-btn",fn:window.showWhatsNew},{id:"install-app-btn",fn:window.installApp}].forEach(({id:e,fn:t})=>{const a=document.getElementById(e);a&&"function"==typeof t&&(a.onclick=t)});let t=document.getElementById("toggle-theme-btn")||document.getElementById("theme-toggle-btn");if(t){t.id="theme-toggle-btn";const e=t.cloneNode(!0);t.parentNode.replaceChild(e,t),t=e}e(()=>import("./main-BTanfOAJ.js").then(e=>e.ag),__vite__mapDeps([0,1,2])).then(e=>{"function"==typeof e.setupThemeToggle&&e.setupThemeToggle("theme-toggle-btn")})}catch(s){}[{id:"limit-alerts-toggle",key:"noti_limit_alerts",label:"Alertas de Limite"},{id:"recurring-reminders-toggle",key:"noti_recurring_reminders",label:"Lembretes de Recorrentes"},{id:"weekly-summary-toggle",key:"noti_weekly_summary",label:"Resumo Semanal"}].forEach(({id:e,key:t,label:a})=>{const n=document.getElementById(e);if(n){const e=localStorage.getItem(t);null!==e&&(n.checked="true"===e),n.addEventListener("change",()=>{localStorage.setItem(t,n.checked),window.Snackbar&&window.Snackbar.success(`${a} ${n.checked?"ativado":"desativado"}`)})}})}()}catch(i){t.innerHTML=`<div class="empty-state"><div class="empty-icon">‚ò†Ô∏è</div><div class="empty-text">Erro ao carregar configura√ß√µes</div><div class="empty-description">${i.message}</div></div>`}}function g(){window.__changingBudget||setTimeout(()=>{!window.__changingBudget&&window.location.hash.startsWith("#/settings")&&l()},100)}document.addEventListener("DOMContentLoaded",()=>{const e=localStorage.getItem("animationsEnabled"),t=null===e||"1"===e;s(t);const a=document.getElementById("animations-toggle");a&&(a.checked=t,a.addEventListener("change",e=>{s(e.target.checked)}))}),t.on("auth:changed",()=>g()),t.on("budget:changed",()=>g()),t.on("invitation:changed",()=>g());export{l as renderSettings};

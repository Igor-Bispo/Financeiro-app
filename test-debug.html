<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Debug - Controle Financeiro</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { color: green; }
        .error { color: red; }
        .warning { color: orange; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>
    <h1>üß™ Teste de Debug - Controle Financeiro</h1>
    
    <div class="test-section">
        <h2>1. Verifica√ß√£o de M√≥dulos</h2>
        <div id="modules-status">Verificando...</div>
    </div>
    
    <div class="test-section">
        <h2>2. Teste de Autentica√ß√£o</h2>
        <button onclick="testAuth()">Testar Login</button>
        <div id="auth-status">N√£o testado</div>
    </div>
    
    <div class="test-section">
        <h2>3. Teste de Categorias</h2>
        <button onclick="testCategories()">Testar Categorias</button>
        <div id="categories-status">N√£o testado</div>
    </div>
    
    <div class="test-section">
        <h2>4. Teste de Transa√ß√µes</h2>
        <button onclick="testTransactions()">Testar Transa√ß√µes</button>
        <div id="transactions-status">N√£o testado</div>
    </div>
    
    <div class="test-section">
        <h2>5. Teste de Or√ßamentos</h2>
        <button onclick="testBudgets()">Testar Or√ßamentos</button>
        <div id="budgets-status">N√£o testado</div>
    </div>
    
    <div class="test-section">
        <h2>6. Console Log</h2>
        <div id="console-log" style="background: #f0f0f0; padding: 10px; height: 200px; overflow-y: auto; font-family: monospace;"></div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    
    <!-- M√≥dulos -->
    <script src="js/firebase/config.js"></script>
    <script src="js/firebase/auth.js"></script>
    <script src="js/utils/notifications.js"></script>
    <script src="js/utils/i18n.js"></script>
    <script src="js/modules/categories.js"></script>
    <script src="js/modules/transactions.js"></script>
    <script src="js/modules/budgets.js"></script>
    <script src="js/modules/goals.js"></script>
    
    <script>
        // Capturar logs do console
        const originalLog = console.log;
        const originalError = console.error;
        const logDiv = document.getElementById('console-log');
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            logDiv.innerHTML += '<div class="success">' + args.join(' ') + '</div>';
            logDiv.scrollTop = logDiv.scrollHeight;
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            logDiv.innerHTML += '<div class="error">' + args.join(' ') + '</div>';
            logDiv.scrollTop = logDiv.scrollHeight;
        };
        
        // Verificar m√≥dulos
        function checkModules() {
            const modules = [
                'firebase',
                'AuthModule',
                'CategoriesModule',
                'TransactionsModule',
                'BudgetsModule',
                'NotificationManager',
                'I18nManager'
            ];
            
            const statusDiv = document.getElementById('modules-status');
            let html = '';
            
            modules.forEach(module => {
                const available = !!window[module];
                const status = available ? '‚úÖ' : '‚ùå';
                const color = available ? 'success' : 'error';
                html += `<div class="${color}">${status} ${module}: ${available ? 'Dispon√≠vel' : 'N√£o encontrado'}</div>`;
            });
            
            statusDiv.innerHTML = html;
        }
        
        // Teste de autentica√ß√£o
        async function testAuth() {
            const statusDiv = document.getElementById('auth-status');
            try {
                statusDiv.innerHTML = 'Testando...';
                console.log('Testando autentica√ß√£o...');
                
                if (!window.AuthModule) {
                    throw new Error('AuthModule n√£o encontrado');
                }
                
                statusDiv.innerHTML = '<span class="success">‚úÖ AuthModule dispon√≠vel</span>';
                console.log('AuthModule funcionando');
            } catch (error) {
                statusDiv.innerHTML = '<span class="error">‚ùå Erro: ' + error.message + '</span>';
                console.error('Erro no teste de autentica√ß√£o:', error);
            }
        }
        
        // Teste de categorias
        async function testCategories() {
            const statusDiv = document.getElementById('categories-status');
            try {
                statusDiv.innerHTML = 'Testando...';
                console.log('Testando categorias...');
                
                if (!window.CategoriesModule) {
                    throw new Error('CategoriesModule n√£o encontrado');
                }
                
                statusDiv.innerHTML = '<span class="success">‚úÖ CategoriesModule dispon√≠vel</span>';
                console.log('CategoriesModule funcionando');
            } catch (error) {
                statusDiv.innerHTML = '<span class="error">‚ùå Erro: ' + error.message + '</span>';
                console.error('Erro no teste de categorias:', error);
            }
        }
        
        // Teste de transa√ß√µes
        async function testTransactions() {
            const statusDiv = document.getElementById('transactions-status');
            try {
                statusDiv.innerHTML = 'Testando...';
                console.log('Testando transa√ß√µes...');
                
                if (!window.TransactionsModule) {
                    throw new Error('TransactionsModule n√£o encontrado');
                }
                
                statusDiv.innerHTML = '<span class="success">‚úÖ TransactionsModule dispon√≠vel</span>';
                console.log('TransactionsModule funcionando');
            } catch (error) {
                statusDiv.innerHTML = '<span class="error">‚ùå Erro: ' + error.message + '</span>';
                console.error('Erro no teste de transa√ß√µes:', error);
            }
        }
        
        // Teste de or√ßamentos
        async function testBudgets() {
            const statusDiv = document.getElementById('budgets-status');
            try {
                statusDiv.innerHTML = 'Testando...';
                console.log('Testando or√ßamentos...');
                
                if (!window.BudgetsModule) {
                    throw new Error('BudgetsModule n√£o encontrado');
                }
                
                statusDiv.innerHTML = '<span class="success">‚úÖ BudgetsModule dispon√≠vel</span>';
                console.log('BudgetsModule funcionando');
            } catch (error) {
                statusDiv.innerHTML = '<span class="error">‚ùå Erro: ' + error.message + '</span>';
                console.error('Erro no teste de or√ßamentos:', error);
            }
        }
        
        // Verificar m√≥dulos quando a p√°gina carregar
        window.addEventListener('load', () => {
            setTimeout(checkModules, 1000);
        });
    </script>
</body>
</html> 